webpackJsonp([1],{"/J+/":function(t,e){},"1QwG":function(t,e){},"5CTI":function(t,e){},"6cGl":function(t,e){},"7UM7":function(t,e){},EYnv:function(t,e){},KSwb:function(t,e,r){t.exports=r.p+"static/img/Kapitan-Logo-Vertical-Version-01.bc53028.png"},MqBh:function(t,e){},NHnr:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r("fZjL"),a=r.n(n),i=r("mtWM"),s=r.n(i),o=r("DWlv"),c=r.n(o),l=r("7t+N"),u=r.n(l),d=r("K3J8"),m=r.n(d),p=(r("ao2D"),r("rk6y"),r("trBP")),v=(r("1QwG"),r("iI18")),f=(r("EYnv"),r("7+uW")),C=r("sUu7"),_=r("SjS3"),g=r.n(_),h=r("wGWZ"),b={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var P=r("VU/8")({name:"App"},b,!1,function(t){r("fUyc")},null,null).exports,I=r("/ocq"),E={data:function(){return{navbarListClass:["navbar-nav","justify-self-center","align-self-center","w-100","p-0","flex-row","align-items-center","position-relative"],navbarLinks:{logo:{path:"/",ItemID:"logo-link",selfClass:["mr-2"],routerTo:"/",imgSrc:"../../../assets/img/logo.png"},about:{path:"/About",ItemID:"about-link",selfClass:["nav-link","text-link","nav-link","ml-md-auto","ml-3","mr-4"],routerTo:"/About",selfText:"關於甲必丹"},store:{path:"/Store",ItemID:"store-link",selfClass:["nav-link","text-link","nav-link","mr-4"],routerTo:"/Store",selfText:"挑選航程"},cart:{path:"/Cart",ItemID:"cart-link",selfClass:["nav-link","icon-link","ml-2","mr-sm-4","mr-3"],routerTo:"/Cart",iconClass:["fas","fa-shopping-cart","fa-lg"]},memberCentre:{path:"/Member-Centre",ItemID:"memberCentre-link",selfClass:["nav-link","icon-link"],routerTo:"/Member-Centre",iconClass:["fas","fa-user","fa-lg"]}},hamburgerButtonToggle:!1,currentPath:"/"}},created:function(){this.currentPath=this.$router.currentRoute.path},methods:{collapseHamburgerList:function(){var t=this;setTimeout(function(){t.hamburgerButtonToggle=!1},400)}},computed:{burgerMenuLinks:function(){var t={};for(var e in this.navbarLinks)this.navbarLinks[e].selfText&&(t[e]=this.navbarLinks[e]);return t}},watch:{$route:function(t,e){this.currentPath=this.$router.currentRoute.path}}},k={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("nav",{attrs:{id:"nav-bar-container"}},[n("div",{staticClass:"backgroud d-flex w-100 position-fixed"},[n("div",{staticClass:"nav-bar container d-flex justify-content-center position-relative",attrs:{id:"nav-bar"}},[n("div",{staticClass:"position-absolute align-self-center",attrs:{id:"hamburger-menu"}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.hamburgerButtonToggle,expression:"hamburgerButtonToggle"}],staticClass:"d-block position-absolute",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.hamburgerButtonToggle)?t._i(t.hamburgerButtonToggle,null)>-1:t.hamburgerButtonToggle},on:{change:function(e){var r=t.hamburgerButtonToggle,n=e.target,a=!!n.checked;if(Array.isArray(r)){var i=t._i(r,null);n.checked?i<0&&(t.hamburgerButtonToggle=r.concat([null])):i>-1&&(t.hamburgerButtonToggle=r.slice(0,i).concat(r.slice(i+1)))}else t.hamburgerButtonToggle=a}}}),t._v(" "),t._l(3,function(t,e){return n("span",{key:"span"+e,staticClass:"d-block position-relative"})})],2),t._v(" "),n("ul",{class:t.navbarListClass,attrs:{id:"navbar-list"}},t._l(t.navbarLinks,function(e,a){return n("li",{key:a,attrs:{id:e.ItemID}},[n("router-link",{class:[e.selfClass,{"current-link":e.path==t.currentPath}],attrs:{to:e.routerTo}},["logo"==a?n("img",{attrs:{id:"logo-img",src:r("ixDS"),alt:""}}):t._e(),t._v(" "),e.selfClass.includes("text-link")?n("span",[t._v(t._s(e.selfText))]):t._e(),t._v(" "),e.selfClass.includes("icon-link")?n("i",{class:e.iconClass}):t._e()])],1)}),0)])]),t._v(" "),n("ul",{staticClass:"position-fixed",class:{"show-hamburger-menu-list":t.hamburgerButtonToggle},attrs:{id:"hamburger-menu-list"}},t._l(t.burgerMenuLinks,function(e,r){return n("li",{key:r},[n("router-link",{staticClass:"hamburger-menu-link nav-link",class:{"current-hamburger-menu-link":e.path==t.currentPath},attrs:{to:e.routerTo},nativeOn:{click:function(e){return t.collapseHamburgerList(e)}}},[t._v(t._s(e.selfText))])],1)}),0)])},staticRenderFns:[]};var A={data:function(){return{contactInfo:{address:{iconClass:["fas","fa-map-marker-alt"],innerHTML:"251 新北市淡水區觀海路201號",onClickEvent:function(){window.location.href="https://goo.gl/maps/HDg6TVKTjm6FDMmh8"}},email:{iconClass:["fas","fa-envelope"],innerHTML:"service@Kapitan.com",onClickEvent:function(){window.open("mailto:service@Kapitan.com")}},phone:{iconClass:["fas","fa-phone-alt"],innerHTML:"（886）2-3345-6789",onClickEvent:function(){window.open("tel:+886233456789")}}},communityLinks:{facebook:{iconClass:["fab","fa-facebook-f"],link:"https://www.facebook.com/"},twitter:{iconClass:["fab","fa-twitter"],link:"https://twitter.com/"},instagram:{iconClass:["fab","fa-instagram"],link:"https://www.instagram.com/"},linkedinIn:{iconClass:["fab","fa-linkedin-in"],link:"https://www.linkedin.com/"}},showFakeCopyRightDescription:!1,showFakePrivacyPolicy:!1}},methods:{linkTo:function(t){window.location.href=t}}},D={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("footer",{staticClass:"container-fluid"},[r("div",{staticClass:"container"},[r("div",{staticClass:"row d-lg-block px-5",attrs:{id:"footer-row-01"}},[r("div",{staticClass:"float-lg-left col-lg-5 h-lg-100 col-md-6",attrs:{id:"footer-contact-info"}},[r("ul",{staticClass:"contact-info-list mt-2 ml-2"},t._l(t.contactInfo,function(e,n){return r("li",{key:n,staticClass:"mb-4"},[r("div",{staticClass:"d-inline-flex align-items-center",on:{click:t.contactInfo[n].onClickEvent}},[r("div",{staticClass:"contact-icon-block d-inline-flex justify-content-center align-items-center mr-3"},[r("i",{staticClass:"contact-icon",class:t.contactInfo[n].iconClass})]),t._v(" "),r("div",{staticClass:"contact-text-block d-inline-flex",domProps:{innerHTML:t._s(t.contactInfo[n].innerHTML)},on:{click:t.contactInfo[n].onClickEvent}})])])}),0)]),t._v(" "),t._m(0),t._v(" "),r("div",{staticClass:"float-lg-left h-lg-50 col-lg-7 col-md-12 mt-sm-4",attrs:{id:"footer-row-for-community-and-edm"}},[r("div",{staticClass:"row"},[r("div",{staticClass:"col-sm-6 col-xs-12 mb-md-0 mb-3",attrs:{id:"footer-community-links"}},[r("h6",{staticClass:"mb-3"},[t._v("在社群網站上追蹤甲必丹")]),t._v(" "),r("ul",{staticClass:"community-link-list d-flex flex-row"},t._l(t.communityLinks,function(e,n){return r("li",{key:n,staticClass:"d-flex justify-content-center align-items-center",on:{click:function(e){return t.linkTo(t.communityLinks[n].link)}}},[r("i",{class:t.communityLinks[n].iconClass})])}),0)]),t._v(" "),t._m(1)])])])]),t._v(" "),r("div",{staticClass:"container"},[r("hr"),t._v(" "),r("div",{staticClass:"row px-sm-4"},[r("div",{staticClass:"col-sm-6 col-12 d-flex align-items-center"},[r("h6",{staticClass:"fake-copy-right",on:{mouseenter:function(e){t.showFakeCopyRightDescription=!0},mouseleave:function(e){t.showFakeCopyRightDescription=!1}}},[t._v("\n          © 2035 Kapitan. all rights reserved.\n          "),r("span",{directives:[{name:"show",rawName:"v-show",value:t.showFakeCopyRightDescription,expression:"showFakeCopyRightDescription"}],staticClass:"fake-copy-right-des text-warning"},[t._v("（練習作品而已，絕大多數圖文來自網路）")])])]),t._v(" "),r("div",{staticClass:"ml-sm-auto ml-3 my-sm-0 my-1"},[r("ul",{staticClass:"mass-links-list d-flex flex-row align-items-center justify-content-end"},[r("li",{staticClass:"position-relative",on:{mouseenter:function(e){t.showFakePrivacyPolicy=!0},mouseleave:function(e){t.showFakePrivacyPolicy=!1}}},[t._v("\n            隱私權政策\n            "),t.showFakePrivacyPolicy?r("div",{staticClass:"reminder-bubble position-absolute d-flex justify-content-center align-items-center"},[t._v("\n              僅做樣式，無效果\n            ")]):t._e()]),t._v(" "),r("li",{staticClass:"ml-3",on:{click:function(e){return t.linkTo("https://www.104.com.tw/jobs/main/")}}},[t._v("\n            加入甲必丹\n          ")])])])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"float-lg-left h-lg-50 pt-lg-1 col-lg-7 col-md-6 my-md-0 my-3",attrs:{id:"footer-Kapitans-mission"}},[e("h5",[this._v("甲必丹的使命")]),this._v(" "),e("p",[this._v("\n          「來到這裡的每個人，都能以最優雅的姿態、最愉快的體驗，繼承先祖們的冒險精神。感受深藏在我們基因中的『甲必丹』情懷。」\n          ── 甲必丹執行長 · 鄭賢之\n        ")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"col-sm-6 col-xs-12",attrs:{id:"footer-subscribe-edm"}},[e("h6",{staticClass:"mb-3"},[this._v("或訂閱我們的電子報")]),this._v(" "),e("div",{staticClass:"input-group mb-3"},[e("input",{staticClass:"form-control",attrs:{type:"email",placeholder:"請輸入電子信箱...","aria-label":"Recipient's username","aria-describedby":"basic-addon2"}}),this._v(" "),e("div",{staticClass:"input-group-append"},[e("button",{staticClass:"btn",attrs:{type:"button"}},[this._v("訂閱")])])])])}]};var y={components:{ForestageNavbar:r("VU/8")(E,k,!1,function(t){r("rY7q")},"data-v-34bf9a6b",null).exports,ForestageFooter:r("VU/8")(A,D,!1,function(t){r("zXK2")},"data-v-663d5ba3",null).exports}},x={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"forestage-container"}},[e("ForestageNavbar"),this._v(" "),e("router-view"),this._v(" "),e("ForestageFooter")],1)},staticRenderFns:[]};var O=r("VU/8")(y,x,!1,function(t){r("sv4i")},"data-v-1ae41af2",null).exports,j={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"container"},[e("img",{attrs:{src:"http://pic.pimg.tw/k640640/1403285068-3601410781.jpg",alt:""}})])}]};var M=r("VU/8")({data:function(){return{}}},j,!1,function(t){r("Pjxy")},"data-v-3e80be1b",null).exports,N={render:function(){var t=this.$createElement;return(this._self._c||t)("div")},staticRenderFns:[]},w=r("VU/8")(null,N,!1,null,null,null).exports,T=r("mvHQ"),R=r.n(T),L={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("ol",{staticClass:"breadcrumb"},t._l(t.pagesArr,function(e,n){return r("li",{key:n,staticClass:"breadcrumb-item",class:n==t.breadCrumbData.currentPage-1?"active":"",attrs:{"aria-current":n==t.breadCrumbData.currentPage-1?"page":""},on:{click:function(e){return t.$router.push({name:t.pagesArr[n]})}}},[t._v("\n    "+t._s(t._f("filterSpecificRouterName")(e))+"\n  ")])}),0)},staticRenderFns:[]};var S=r("VU/8")({data:function(){return{}},props:["breadCrumbData"],computed:{pagesArr:function(){return this.breadCrumbData.pagesArr.splice(0,this.breadCrumbData.currentPage)}},filters:{filterSpecificRouterName:function(t){return t.replace("管理系統：","")}}},L,!1,function(t){r("lhgd")},"data-v-68f4b290",null).exports,$={props:["allContentArr","itemsNumPerPage"],data:function(){return{totalPagination:1,currentPageNum:1,currentPageContentArr:[]}},created:function(){this.allContentArr.length<=0?this.totalPagination=1:this.totalPagination=Math.ceil(this.allContentArr.length/this.itemsNumPerPage),this.selectPage(1)},methods:{selectPage:function(t){this.currentPageNum=t,this.updateContentByPage(this.currentPageNum),this.$emit("emitCurrentPageContentArr",this.currentPageContentArr),0==this.currentPageNum?this.currentPageNum=1:this.currentPageNum>this.totalPagination&&(this.currentPageNum=this.totalPagination)},updateContentByPage:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(0==t)alert("已經是第一頁了！");else if(t>this.totalPagination)alert("已經是最後一頁了！");else{this.currentPageContentArr=[];for(var e=(t-1)*this.itemsNumPerPage,r=0;r<this.itemsNumPerPage;r++){if(!this.allContentArr[e])return;this.currentPageContentArr.push(this.allContentArr[e]),e++}}}},watch:{allContentArr:function(){this.allContentArr.length<=0?this.totalPagination=1:this.totalPagination=Math.ceil(this.allContentArr.length/this.itemsNumPerPage),this.selectPage(1)}}},q={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("nav",{attrs:{"aria-label":"Page navigation example"}},[r("ul",{staticClass:"pagination"},[t.totalPagination>1?r("li",{staticClass:"page-item"},[r("a",{staticClass:"page-link",attrs:{"aria-label":"Previous"},on:{click:function(e){return e.preventDefault(),t.selectPage(t.currentPageNum-1)}}},[r("span",{attrs:{"aria-hidden":"true"}},[t._v("«")]),t._v(" "),r("span",{staticClass:"sr-only"},[t._v("Previous")])])]):t._e(),t._v(" "),t._l(t.totalPagination,function(e,n){return r("li",{key:n+1,staticClass:"page-item",class:n+1==t.currentPageNum?"active":""},[r("a",{staticClass:"page-link",on:{click:function(e){return e.preventDefault(),t.selectPage(n+1)}}},[t._v(t._s(n+1))])])}),t._v(" "),t.totalPagination>1?r("li",{staticClass:"page-item"},[r("a",{staticClass:"page-link",attrs:{"aria-label":"Next"},on:{click:function(e){return e.preventDefault(),t.selectPage(t.currentPageNum+1)}}},[r("span",{attrs:{"aria-hidden":"true"}},[t._v("»")]),t._v(" "),r("span",{staticClass:"sr-only"},[t._v("Next")])])]):t._e()],2)])},staticRenderFns:[]};var F=r("VU/8")($,q,!1,function(t){r("xwoG")},"data-v-4247d84b",null).exports,V={data:function(){return{breadCrumbData:{pagesArr:["首頁","挑選航程"],currentPage:2},categoryList:[],selectedCategories:[],allProjectsArr:[],currentPageContentArr:[],itemsNumPerPage:9,currentPageNum:1,noImgUrl:"https://res.cloudinary.com/hugo-chiang/image/upload/v1615878592/Side-Projects/Frontend-Side-Projects-0001-Kapitan/Mess/No-Img-Now_wlqtdk.jpg"}},components:{Breadcrumb:S,Pagination:F},created:function(){var t=this;this.$http.get("https://be-sp-0001-kapitan.herokuapp.com/API/Forestage/QueryCategoryList.php").then(function(e){t.categoryList=e.data,console.log(t.categoryList)}),this.$http.post("https://be-sp-0001-kapitan.herokuapp.com/API/Forestage/QueryProjectsList.php",R()([])).then(function(e){t.allProjectsArr=e.data,console.log(t.allProjectsArr)})},methods:{getCurrentPageContentArr:function(t){this.currentPageContentArr=t}},watch:{selectedCategories:function(){var t=this;this.$http.post("https://be-sp-0001-kapitan.herokuapp.com/API/Forestage/QueryProjectsList.php",R()(t.selectedCategories)).then(function(e){t.allProjectsArr=e.data})}}},B={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("main",{staticClass:"container"},[r("div",{staticClass:"row"},[r("div",{staticClass:"col-12 pt-2"},[r("Breadcrumb",{attrs:{breadCrumbData:t.breadCrumbData}})],1)]),t._v(" "),r("div",{staticClass:"row"},[r("div",{staticClass:"col-lg-2 d-lg-block d-none"},[r("aside",{attrs:{id:"aside-bar"}},[r("ul",{staticClass:"py-3 pl-3",attrs:{id:"category-list"}},t._l(t.categoryList,function(e){return r("li",{key:e.CATEGORY_ID},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.selectedCategories,expression:"selectedCategories"}],attrs:{type:"checkbox",name:e.CATEGORY_NAME},domProps:{value:e.CATEGORY_ID,checked:Array.isArray(t.selectedCategories)?t._i(t.selectedCategories,e.CATEGORY_ID)>-1:t.selectedCategories},on:{change:function(r){var n=t.selectedCategories,a=r.target,i=!!a.checked;if(Array.isArray(n)){var s=e.CATEGORY_ID,o=t._i(n,s);a.checked?o<0&&(t.selectedCategories=n.concat([s])):o>-1&&(t.selectedCategories=n.slice(0,o).concat(n.slice(o+1)))}else t.selectedCategories=i}}}),t._v("\n            "+t._s(e.CATEGORY_NAME)+"\n          ")])}),0)])]),t._v(" "),r("div",{staticClass:"container col-lg-10 col-12 mb-5",attrs:{id:"cards-list"}},[r("ul",{staticClass:"row p-0 d-flex justify-content-center"},t._l(t.currentPageContentArr,function(e,n){return r("router-link",{key:e.PROJECT_ID,staticClass:"router-link d-block col-lg-4 col-md-5 col-9 mx-lg-0 mx-md-1 mb-4",attrs:{"data-id":e.PROJECT_ID,to:{name:"方案",params:{selectedProjectID:t.currentPageContentArr[n].PROJECT_ID}}}},[r("li",{key:e.PROJECT_ID,staticClass:"card"},[r("img",{staticClass:"card-img-top",attrs:{src:e.PROJECT_AVATAR_URL||t.noImgUrl,alt:"這裡是卡片頂圖"}}),t._v(" "),r("div",{staticClass:"card-body"},[r("h6",{staticClass:"card-title"},[t._v("\n                "+t._s(e.PROJECT_NAME)+"\n              ")]),t._v(" "),r("p",{staticClass:"card-text"},[t._v("\n                Lorem ipsum dolor sit amet consectetur, adipisicing elit.\n                Facilis tenetur temporibus cupiditate pariatur dolorum eos\n                doloremque incidunt, laboriosam at nisi, quia necessitatibus\n                placeat repudiandae earum consectetur dolore expedita\n                accusamus tempore.\n              ")]),t._v(" "),r("div",{staticClass:"row"},[r("div",{staticClass:"col-6"},[t._v("\n                  最少 "+t._s(e.PROJECT_MIN_NUM_OF_PEOPLE)+" 人成團\n                ")]),t._v(" "),r("h6",{staticClass:"card-price col-6"},[t._v("\n                  每人\n                  "+t._s(t._f("dollarSign")(t._f("currency")(Number(e.PROJECT_ORIGINAL_PRICE_PER_PERSON))))+"\n                ")])])])])])}),1)])]),t._v(" "),r("div",{staticClass:"row mb-5"},[r("div",{staticClass:"col-12 d-flex justify-content-center",attrs:{id:"pagination-container"}},[r("Pagination",{directives:[{name:"show",rawName:"v-show",value:t.currentPageContentArr.length>0,expression:"currentPageContentArr.length > 0"}],attrs:{allContentArr:t.allProjectsArr,itemsNumPerPage:t.itemsNumPerPage},on:{emitCurrentPageContentArr:t.getCurrentPageContentArr}})],1)])])},staticRenderFns:[]};var U=r("VU/8")(V,B,!1,function(t){r("dezu")},null,null).exports,H={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("section",{staticClass:"row",attrs:{id:"carouselArea"}},[r("div",{staticClass:"col-12",attrs:{id:"carouselContainer"}},[r("div",{staticClass:"carousel slide",attrs:{id:"carouselExampleIndicators","data-ride":"carousel"}},[r("ol",{staticClass:"carousel-indicators"},[r("li",{staticClass:"active",attrs:{"data-target":"#carouselExampleIndicators","data-slide-to":"0"}}),t._v(" "),r("li",{attrs:{"data-target":"#carouselExampleIndicators","data-slide-to":"1"}}),t._v(" "),r("li",{attrs:{"data-target":"#carouselExampleIndicators","data-slide-to":"2"}})]),t._v(" "),r("div",{staticClass:"carousel-inner"},[r("div",{staticClass:"carousel-item active"},[r("img",{staticClass:"d-block w-100",attrs:{src:"https://res.cloudinary.com/hugo-chiang/image/upload/v1615801180/Side-Projects/Frontend-Side-Projects-0001-Kapitan/Projects-Images/PJ0000001/PJ0000001-01-001_aqvvao.png",alt:"..."}})]),t._v(" "),r("div",{staticClass:"carousel-item"},[r("img",{staticClass:"d-block w-100",attrs:{src:"https://res.cloudinary.com/hugo-chiang/image/upload/v1615801181/Side-Projects/Frontend-Side-Projects-0001-Kapitan/Projects-Images/PJ0000001/PJ0000001-01-002_ludmq0.png",alt:"..."}})]),t._v(" "),r("div",{staticClass:"carousel-item"},[r("img",{staticClass:"d-block w-100",attrs:{src:"https://res.cloudinary.com/hugo-chiang/image/upload/v1615801180/Side-Projects/Frontend-Side-Projects-0001-Kapitan/Projects-Images/PJ0000001/PJ0000001-01-003_vbn9ew.png",alt:"..."}})])]),t._v(" "),r("a",{staticClass:"carousel-control-prev",attrs:{href:"#carouselExampleIndicators",role:"button","data-slide":"prev"}},[r("span",{staticClass:"carousel-control-prev-icon",attrs:{"aria-hidden":"true"}}),t._v(" "),r("span",{staticClass:"sr-only"},[t._v("Previous")])]),t._v(" "),r("a",{staticClass:"carousel-control-next",attrs:{href:"#carouselExampleIndicators",role:"button","data-slide":"next"}},[r("span",{staticClass:"carousel-control-next-icon",attrs:{"aria-hidden":"true"}}),t._v(" "),r("span",{staticClass:"sr-only"},[t._v("Next")])])])])])}]},J=r("VU/8")({data:function(){return{}}},H,!1,null,null,null).exports,K={data:function(){return{number:Number(this.incomingValue)||1}},props:["uniqueKey","incomingValue"],watch:{number:function(){""==this.number&&(this.number=1)}}},G={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{key:t.uniqueKey,staticClass:"input-group",attrs:{"data-id":t.uniqueKey}},[r("div",{staticClass:"input-group-prepend"},[r("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button"},on:{click:function(e){e.preventDefault(),1==t.number?t.$emit("update:incomingValue",t.number):t.$emit("update:incomingValue",--t.number)}}},[t._v("\n      －\n    ")])]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.number,expression:"number"}],staticClass:"form-control text-center",attrs:{type:"number",placeholder:"","aria-label":"","aria-describedby":"basic-addon1"},domProps:{value:t.number},on:{change:function(e){return t.$emit("update:incomingValue",t.number)},input:function(e){e.target.composing||(t.number=e.target.value)}}}),t._v(" "),r("div",{staticClass:"input-group-append"},[r("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.$emit("update:incomingValue",++t.number)}}},[t._v("\n      ＋\n    ")])])])},staticRenderFns:[]};var W=r("VU/8")(K,G,!1,function(t){r("5CTI")},"data-v-6fda5e04",null).exports,z={data:function(){return{bookingData:{bookingNumOfPeople:1,bookingDate:null},bookedDate:["2021-02-25","2021-03-01"],lang:{formatLocale:{months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdaysShort:["週日","週一","週二","週三","週四","週五","週六"],weekdaysMin:["日","一","二","三","四","五","六"]}},confirmProject:{},confirmID:this.projectID,noImgUrl:"https://res.cloudinary.com/hugo-chiang/image/upload/v1615878592/Side-Projects/Frontend-Side-Projects-0001-Kapitan/Mess/No-Img-Now_wlqtdk.jpg"}},props:["projectID","projectPricePerPerson","selectedProject"],components:{DatePicker:p.a,NumberInput:W},created:function(){console.log(this.selectedProject)},methods:{checkBookedDate:function(t){var e=this.bookedDate.map(function(t){return new Date(t).toLocaleDateString()}),r=new Date,n=new Date(r.getFullYear(),r.getMonth(),r.getDate());return t<n||e.find(function(e){return e==t.toLocaleDateString()})},saveInCart:function(){var t=this.bookingData.bookingDate;if(null==t)alert("請輸入預約日期！");else{var e=this.bookingData.bookingNumOfPeople;this.confirmProject={localstorageID:this.selectedProject.selectedProjectID+"-"+t,bookingProjectID:this.selectedProject.selectedProjectID,bookingProjectName:this.selectedProject.selectedProjectContent.projectName,bookingProjectAvatarUrl:this.selectedProject.selectedProjectContent.projectAvatarUrl||this.noImgUrl,bookingProjectPricePerPerson:this.selectedProject.selectedProjectContent.projectPricePerPerson,bookingProjectDate:t,bookingProjectNumOfPeople:e};for(var r=JSON.parse(localStorage.getItem("savingProjects"))||[],n=!1,a=0;a<r.length;a++)this.confirmProject.bookingProjectID==r[a].bookingProjectID&&this.confirmProject.bookingProjectDate==r[a].bookingProjectDate&&(r[a]=this.confirmProject,n=!0);n||r.push(this.confirmProject),localStorage.setItem("savingProjects",R()(r))}},bookingNow:function(){this.saveInCart(),null!=this.bookingData.bookingDate&&this.$router.push({name:"購物車"})}}},Q={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"card-body container text-center"},[r("h4",{staticClass:"card-title my-3"},[t._v("請選擇您偏好的日期與人數")]),t._v(" "),r("div",{staticClass:"row"},[r("div",{staticClass:"col-lg-4 col-md-6 col-12 d-flex flex-column align-items-center mx-auto"},[r("h6",{staticClass:"mt-4"},[t._v("\n        已選擇日期： "),r("span",[t._v(t._s(t.bookingData.bookingDate||"尚未填寫"))])]),t._v(" "),r("div",{staticClass:"d-flex justify-content-center"},[r("date-picker",{attrs:{valueType:"format",lang:t.lang,"disabled-date":t.checkBookedDate},model:{value:t.bookingData.bookingDate,callback:function(e){t.$set(t.bookingData,"bookingDate",e)},expression:"bookingData.bookingDate"}})],1),t._v(" "),r("h6",{staticClass:"mt-4"},[t._v("\n        已選擇人數： "+t._s(t.bookingData.bookingNumOfPeople)+" 人\n      ")]),t._v(" "),r("div",{staticClass:"d-flex justify-content-center"},[r("NumberInput",{ref:"numberInput",attrs:{incomingValue:t.bookingData.bookingNumOfPeople},on:{"update:incomingValue":function(e){return t.$set(t.bookingData,"bookingNumOfPeople",e)},"update:incoming-value":function(e){return t.$set(t.bookingData,"bookingNumOfPeople",e)}}})],1),t._v(" "),r("h5",{staticClass:"mt-5 mb-4",attrs:{id:"project-final-price-line"}},[t._v("\n        方案總計：\n        "),r("span",{attrs:{id:"project-final-price"}},[t._v("\n          "+t._s(t._f("currency")(t.bookingData.bookingNumOfPeople*t.projectPricePerPerson)))]),t._v("\n        元\n      ")]),t._v(" "),r("div",{staticClass:"mb-4 d-flex justify-content-between",attrs:{id:"project-purchase-buttons"}},[r("button",{staticClass:"btn",attrs:{id:"save-in-cart-btn"},on:{click:function(e){return e.preventDefault(),t.saveInCart(e)}}},[t._v("\n          放入購物車\n        ")]),t._v(" "),r("button",{staticClass:"btn",attrs:{id:"booking-now-btn"},on:{click:function(e){return e.preventDefault(),t.bookingNow(e)}}},[t._v("\n          立即預約\n        ")])])])])])},staticRenderFns:[]};var Y=r("VU/8")(z,Q,!1,function(t){r("lU8A")},"data-v-b40b8c0a",null).exports,Z={data:function(){return{mapData:{mapGISurl:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",mapMarkerLocation:[0,0],mapZoomlevel:16,mapSourceAttribution:'© <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',mapOptions:{zoomControl:!0},mapIcon:{iconUrl:"https://cdn.rawgit.com/pointhi/leaflet-color-markers/master/img/marker-icon-blue.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png",iconAnchor:[12.5,40],popupAnchor:[0,-30]}}}},props:["departureLocationInfo"],components:{LMap:v.LMap,LTileLayer:v.LTileLayer,LMarker:v.LMarker,LPopup:v.LPopup,LIcon:v.LIcon},created:function(){this.mapData.mapMarkerLocation=[this.departureLocationInfo.locationLat,this.departureLocationInfo.locationLng]},watch:{departureLocationInfo:{handler:function(t){0!=t.locationLat&&0!=t.locationLng&&(this.mapData.mapMarkerLocation=[t.locationLat,t.locationLng])},deep:!0}}},X={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"card-body"},[r("div",{staticClass:"row"},[r("div",{staticClass:"col-lg-8 col-md-12 mb-md-0 mb-5"},[r("l-map",{staticStyle:{height:"25rem"},attrs:{zoom:t.mapData.mapZoomlevel,center:t.mapData.mapMarkerLocation,options:t.mapData.mapOptions}},[r("l-tile-layer",{attrs:{url:t.mapData.mapGISurl,attribution:t.mapData.mapSourceAttribution}}),t._v(" "),r("l-marker",{attrs:{"lat-lng":t.mapData.mapMarkerLocation}},[r("l-icon",{attrs:{"icon-url":t.mapData.mapIcon.iconUrl,"shadow-url":t.mapData.mapIcon.shadowUrl,icon:t.mapData.mapIcon.iconUrl,"popup-anchor":t.mapData.mapIcon.popupAnchor}}),t._v(" "),r("l-popup",[t._v(" "+t._s(t.departureLocationInfo.locationName)+" ")])],1)],1)],1),t._v(" "),r("div",{staticClass:"col-lg-4 col-md-12"},[r("h5",[t._v(t._s(t.departureLocationInfo.locationName))]),t._v(" "),r("div",{domProps:{innerHTML:t._s(t.departureLocationInfo.locationDescription)}})])])])},staticRenderFns:[]};var tt={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"card-body container"},[r("div",{staticClass:"row"},[r("div",{staticClass:"col-8"},[r("h5",{staticClass:"mt-2"},[t._v("確認詳情：")]),t._v(" "),r("ol",[r("li",[t._v("\n          甲必丹會在預訂成功後立即確認，並將使用憑證發送至你的電子郵箱。\n        ")]),t._v(" "),r("li",[t._v("\n          如在註明的時限內沒有於收件箱或垃圾郵件箱中收到郵件，請及時通過郵件聯繫客服。\n        ")])]),t._v(" "),r("h5",{staticClass:"mt-4"},[t._v("退改須知：")]),t._v(" "),r("p",[t._v("\n        如需更改或取消預訂，請於至少 48\n        小時前通知並獲得確認，否則將不獲全額退款。\n      ")])])])])}]},et={data:function(){return{breadCrumbData:{pagesArr:["首頁","商城","方案"],currentPage:3},selectedProject:{selectedProjectID:this.$route.params.selectedProjectID,selectedProjectContent:{projectName:"",projectAvatarUrl:"",projectMinNumOfPeople:"",projectPricePerPerson:"",projectSummary:""},selectedProjectDepartureLocation:{locationName:"",locationDescription:"",locationLng:"",locationLat:""}},tabs:{currentTab:"選擇方案",tabsArr:["選擇方案","會合地點","使用條款"]},googleDriveSharingUrl:"http://drive.google.com/uc?export=view&id="}},components:{Carousel:J,Breadcrumb:S,TabDefault:Y,TabLocation:r("VU/8")(Z,X,!1,function(t){r("c02q")},"data-v-9efd8de2",null).exports,TabTerms:r("VU/8")({data:function(){return{}}},tt,!1,null,null,null).exports},created:function(){var t=this;this.$http.post("https://be-sp-0001-kapitan.herokuapp.com/API/Forestage/QueryProjectContent.php",t.selectedProject.selectedProjectID).then(function(e){console.log(e.data),t.selectedProject.selectedProjectContent.projectName=e.data.projectContent.PROJECT_NAME,t.selectedProject.selectedProjectContent.projectAvatarUrl=e.data.projectContent.PROJECT_AVATAR_URL,t.selectedProject.selectedProjectContent.projectMinNumOfPeople=e.data.projectContent.PROJECT_MIN_NUM_OF_PEOPLE,t.selectedProject.selectedProjectContent.projectPricePerPerson=Number(e.data.projectContent.PROJECT_ORIGINAL_PRICE_PER_PERSON),t.selectedProject.selectedProjectContent.projectSummary=e.data.projectContent.PROJECT_SUMMARY,t.selectedProject.selectedProjectContent.projectDescription=e.data.projectContent.PROJECT_DESCRIPITION,t.selectedProject.selectedProjectDepartureLocation.locationName=e.data.projectDepartureLocation.LOCATION_NAME,t.selectedProject.selectedProjectDepartureLocation.locationDescription=e.data.projectDepartureLocation.LOCATION_DESCRIPTION,t.selectedProject.selectedProjectDepartureLocation.locationLng=e.data.projectDepartureLocation.LOCATION_LNG,t.selectedProject.selectedProjectDepartureLocation.locationLat=e.data.projectDepartureLocation.LOCATION_LAT})}},rt={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("main",{staticClass:"container"},[r("Carousel"),t._v(" "),r("Breadcrumb",{attrs:{breadCrumbData:t.breadCrumbData}}),t._v(" "),r("section",{staticClass:"row mt-4 mb-5",attrs:{id:"summary-area"}},[r("div",{staticClass:"col-lg-8 col-12",attrs:{id:"project-summary"}},[r("h1",[t._v("\n        "+t._s(t.selectedProject.selectedProjectContent.projectName)+"\n      ")]),t._v(" "),r("hr"),t._v(" "),r("section",{domProps:{innerHTML:t._s(t.selectedProject.selectedProjectContent.projectSummary)}})]),t._v(" "),r("div",{staticClass:"col-lg-4 col-12 position-sticky",attrs:{id:"project-price"}},[r("div",{staticClass:"card text-center"},[t._m(0),t._v(" "),r("div",{staticClass:"card-body container"},[r("div",{staticClass:"row mt-2"},[r("div",{staticClass:"col-6",attrs:{id:"project-min-num-of-people"}},[r("h6",[t._v("最低成團人數")]),t._v(" "),r("div",{staticClass:"my-3"},[r("span",[t._v("\n                  "+t._s(t.selectedProject.selectedProjectContent.projectMinNumOfPeople))]),t._v("人\n              ")])]),t._v(" "),r("div",{staticClass:"col-6"},[r("h6",[t._v("每位成員特惠價")]),t._v(" "),""!=t.selectedProject.selectedProjectContent.projectPricePerPerson?r("div",{key:t.selectedProject.selectedProjectContent.projectPricePerPerson,staticClass:"my-3",attrs:{id:"project-price-per-person"}},[t._v("\n                "+t._s(t._f("dollarSign")(t._f("currency")(t.selectedProject.selectedProjectContent.projectPricePerPerson)))+"\n              ")]):t._e()])])])])])]),t._v(" "),r("section",{staticClass:"row mb-5",attrs:{id:"project-purchase-area"}},[r("div",{staticClass:"col-12"},[r("h3",[t._v("方案確認")]),t._v(" "),r("hr"),t._v(" "),r("div",{staticClass:"card",attrs:{id:"project-purchase-card"}},[r("div",{staticClass:"card-header"},[r("ul",{staticClass:"nav nav-tabs card-header-tabs"},t._l(t.tabs.tabsArr,function(e,n){return r("li",{key:n,staticClass:"nav-item"},[r("a",{staticClass:"nav-link",class:t.tabs.currentTab==e?"active":"",on:{click:function(r){r.preventDefault(),t.tabs.currentTab=e}}},[t._v(t._s(e))])])}),0)]),t._v(" "),"選擇方案"==t.tabs.currentTab?r("TabDefault",{attrs:{projectID:t.selectedProject.selectedProjectID,projectPricePerPerson:t.selectedProject.selectedProjectContent.projectPricePerPerson,selectedProject:t.selectedProject}}):"會合地點"==t.tabs.currentTab?r("TabLocation",{attrs:{departureLocationInfo:t.selectedProject.selectedProjectDepartureLocation}}):r("TabTerms")],1)])]),t._v(" "),r("section",{staticClass:"row mb-5",attrs:{id:"project-details-area"}},[r("div",{staticClass:"col-12"},[r("h3",[t._v("服務內容")]),t._v(" "),r("hr"),t._v(" "),r("article",{domProps:{innerHTML:t._s(t.selectedProject.selectedProjectContent.projectDescription)}})])]),t._v(" "),t._m(1)],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"card-header"},[e("h5",{staticClass:"my-1"},[this._v("團資概要")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("section",{staticClass:"row mb-5",attrs:{id:"comments-area"}},[e("div",{staticClass:"col-12"},[e("h3",[this._v("旅客評價")]),this._v(" "),e("hr"),this._v(" "),e("div",{staticClass:"commentsContainer"})])])}]};var nt=r("VU/8")(et,rt,!1,function(t){r("6cGl")},null,null).exports,at={data:function(){return{confirmProjectsArr:JSON.parse(localStorage.getItem("savingProjects"))}},components:{NumberInput:W},created:function(){this.confirmProjectsArr=this.confirmProjectsArr||[]},methods:{deleteSingleProject:function(t){var e=JSON.parse(localStorage.getItem("savingProjects")),r=t.target.closest("div.project-row").dataset.ID,n=e.findIndex(function(t){return t.localstorageID==r});e.splice(n,1),this.confirmProjectsArr=e,localStorage.setItem("savingProjects",R()(e))},clearCart:function(){localStorage.removeItem("savingProjects"),this.confirmProjectsArr=[]}},computed:{currentPage:function(){return this.$route.name},calculateAmout:function(){var t=0;return this.confirmProjectsArr.forEach(function(e){var r=e.bookingProjectNumOfPeople*e.bookingProjectPricePerPerson;t+=r}),t}}},it={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("main",{staticClass:"container",attrs:{id:"cart"}},[r("div",{staticClass:"row mt-5"},[r("div",{staticClass:"col-12"},["購物車"==t.currentPage?r("h2",[t._v("您的購物車")]):r("h2",[t._v("進行結帳")]),t._v(" "),r("hr")])]),t._v(" "),r("section",{staticClass:"row mb-5",attrs:{id:"cart-area"}},[r("div",{staticClass:"col-9",attrs:{id:"order-details-container"}},[r("div",{staticClass:"card"},[r("div",{staticClass:"card-header px-3 d-flex align-items-center"},["購物車"==t.currentPage?r("h5",[t._v("已選方案")]):r("h5",[t._v("第一步：確認方案內容")]),t._v(" "),"購物車"==t.currentPage&&0!=t.confirmProjectsArr.length?r("button",{staticClass:"btn btn-danger ml-auto",attrs:{id:"clear-cart-btn"},on:{click:function(e){return e.preventDefault(),t.clearCart(e)}}},[t._v("\n            清空購物車\n          ")]):t._e()]),t._v(" "),r("div",{staticClass:"card-body py-0"},[t._l(t.confirmProjectsArr,function(e,n){return r("div",{key:n,staticClass:"project-row row d-flex align-items-center",class:{"has-project-divier":n>0},attrs:{"data-id":e.bookingProjectID+"-"+e.bookingProjectDate}},[r("div",{staticClass:"col-6"},[r("router-link",{staticClass:"router-link d-flex flex-row align-items-center",attrs:{to:{name:"方案",params:{selectedProjectID:e.bookingProjectID}}}},[r("div",{staticClass:"project-avatar-block d-flex justify-content-center"},[r("img",{staticClass:"project-avatar",attrs:{src:t.confirmProjectsArr[n].bookingProjectAvatarUrl,alt:""}})]),t._v(" "),r("h6",{staticClass:"project-name ml-3"},[t._v("\n                  "+t._s(t.confirmProjectsArr[n].bookingProjectName)+"\n                ")])])],1),t._v(" "),r("div",{staticClass:"col-3 d-flex flex-column align-items-center"},["購物車"==t.currentPage?r("h6",[t._v("調整人數")]):r("h6",[t._v(t._s(e.bookingProjectNumOfPeople)+" 人")]),t._v(" "),"購物車"==t.currentPage?r("NumberInput",{ref:"numberInput",refInFor:!0,staticClass:"w-100",attrs:{uniqueKey:e.bookingProjectID,incomingValue:e.bookingProjectNumOfPeople},on:{"update:incomingValue":function(r){return t.$set(e,"bookingProjectNumOfPeople",r)},"update:incoming-value":function(r){return t.$set(e,"bookingProjectNumOfPeople",r)}}}):t._e()],1),t._v(" "),r("div",{staticClass:"col-2 d-flex flex-column align-items-center"},[r("h5",{staticClass:"project-final-price mb-0"},[t._v("\n                "+t._s(t._f("dollarSign")(t._f("currency")(t.confirmProjectsArr[n].bookingProjectNumOfPeople*t.confirmProjectsArr[n].bookingProjectPricePerPerson)))+"\n              ")])]),t._v(" "),r("div",{staticClass:"col-1"},["購物車"==t.currentPage?r("a",{staticClass:"delete-single-project-icon d-inline-block",attrs:{href:""},on:{click:function(e){return e.preventDefault(),t.deleteSingleProject(e)}}},[r("i",{staticClass:"fas fa-trash-alt"})]):t._e()])])}),t._v(" "),0==t.confirmProjectsArr.length?r("div",{staticClass:"d-flex justify-content-center align-items-center",attrs:{id:"empty-cart-message"}},[r("h6",[t._v("\n              您的購物車目前是空的呢。\n              請到「挑選航程」頁看看有沒有喜歡的方案吧！\n            ")])]):t._e()],2)])]),t._v(" "),r("div",{staticClass:"col-3 position-sticky",attrs:{id:"order-amount-card-container"}},[r("div",{staticClass:"card text-center",staticStyle:{width:"18rem"}},[r("div",{staticClass:"card-body"},[r("h5",{staticClass:"card-title"},[t._v("訂單概覽")]),t._v(" "),r("ul",{staticClass:"my-4 mx-auto d-flex flex-column align-items-start",attrs:{id:"order-amount-list"}},[r("li",[r("span",{staticClass:"order-amount-title d-inline-block mr-1"},[t._v("選購：")]),r("span",{staticClass:"order-amount-block d-inline-block"},[t._v(t._s(t.confirmProjectsArr.length))]),t._v("個方案\n            ")]),t._v(" "),r("li",[r("span",{staticClass:"order-amount-title d-inline-block mr-1"},[t._v("總計：")]),r("span",{staticClass:"order-amount-block d-inline-block"},[t._v(t._s(t._f("currency")(t.calculateAmout)))]),t._v("元\n            ")])]),t._v(" "),"購物車"==t.currentPage&&t.confirmProjectsArr.length>0?r("button",{staticClass:"btn btn-primary",on:{click:function(e){return e.preventDefault(),t.$router.push("/Cart/Checkout")}}},[t._v("\n            進行結帳\n          ")]):t._e()])])])]),t._v(" "),r("router-view",{attrs:{confirmProjectsArr:t.confirmProjectsArr}}),t._v(" "),r("section",{staticClass:"row mb-5",attrs:{id:"recommendArea"}})],1)},staticRenderFns:[]};var st=r("VU/8")(at,it,!1,function(t){r("sop2")},"data-v-829c0c46",null).exports,ot=r("Dd8w"),ct=r.n(ot),lt={data:function(){return{syncMemberInfo:{},syncMemberContactInfo:!1,inputOrdererInfo:{},creditCardData:{name:"",number:"",date:"",cvv:""}}},props:["confirmProjectsArr","requiredInputTitle"],created:function(){this.queryMemberContactInfo()},methods:{queryMemberContactInfo:function(){var t=this;this.$http.get("https://be-sp-0001-kapitan.herokuapp.com/API/Forestage/QueryMemberContactInfo.php").then(function(e){var r=e.data[0];t.syncMemberInfo={MCname:r.MEMBER_NAME||"",MCphone:r.MEMBER_PHONE||"",MCemail:r.MEMBER_ACCOUNT,ECname:r.MEMBER_EC_NAME||"",ECphone:r.MEMBER_EC_PHONE||"",ECemail:r.MEMBER_EC_EMAIL||""}}).catch(function(t){console.log("伺服器異常，請稍後再試。造成您的不便，敬請見諒！"),console.log(t)})},autofilledCreditCardData:function(){this.creditCardData={name:"測試者",number:"1234 2234 3234 4234",date:"04/2028",cvv:"168"}},formatCreditCardNum:function(){for(var t=this.creditCardData.number.replace(/\s+/g,"").replace(/[^0-9]/gi,""),e=t.match(/\d{4,16}/g),r=e&&e[0]||"",n=[],a=0;a<r.length;a+=4)n.push(r.substring(a,a+4));n.length>0?this.creditCardData.number=n.join(" "):this.creditCardData.number=t},formatCreditCardExpDate:function(){var t=this.creditCardData.date.replace(/\s+/g,"").replace(/[^0-9]/gi,""),e=t.match(/\d{2,6}/g);console.log(e);var r=e&&e[0]||"",n=[];n.push(r.substring(0,2)),n.push(r.substring(2)),console.log(n),n.length>0?""!=n[0]&&""!=n[1]&&(this.creditCardData.date=n.join("/")):(this.creditCardData.date=t,console.log(this.creditCardData.date))},formatCreditCardCVV:function(){this.creditCardData.cvv=this.creditCardData.cvv.replace(/\s+/g,"").replace(/[^0-9]/gi,"")}},watch:{syncMemberContactInfo:function(t){t?this.inputOrdererInfo=ct()({},this.syncMemberInfo):R()(this.inputOrdererInfo)==R()(this.syncMemberInfo)&&this.$set(this,"inputOrdererInfo",{MCname:"",MCphone:"",MCemail:"",ECname:"",ECphone:"",ECemail:""});var e=[];document.querySelectorAll(".ordererContactInfoInputBlock").forEach(function(t){return t.querySelectorAll("input").forEach(function(t){return e.push(t)})}),e.forEach(function(t){return t.dispatchEvent(new Event("blur"))})}}},ut={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("section",{staticClass:"card mb-5",attrs:{id:"checkoutStep02"}},[r("div",{staticClass:"card-header"},[r("h5",[t._v("\n      第二步："),r("span",{on:{click:t.autofilledCreditCardData}},[t._v("填寫")]),t._v("訂購資訊\n    ")]),t._v(" "),r("div",{staticClass:"form-check form-check-inline"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.syncMemberContactInfo,expression:"syncMemberContactInfo"}],staticClass:"form-check-input",attrs:{type:"checkbox",id:"inlineCheckbox1",value:"option1"},domProps:{checked:Array.isArray(t.syncMemberContactInfo)?t._i(t.syncMemberContactInfo,"option1")>-1:t.syncMemberContactInfo},on:{change:function(e){var r=t.syncMemberContactInfo,n=e.target,a=!!n.checked;if(Array.isArray(r)){var i=t._i(r,"option1");n.checked?i<0&&(t.syncMemberContactInfo=r.concat(["option1"])):i>-1&&(t.syncMemberContactInfo=r.slice(0,i).concat(r.slice(i+1)))}else t.syncMemberContactInfo=a}}}),t._v(" "),r("label",{staticClass:"form-check-label",attrs:{for:"inlineCheckbox1"}},[t._v("同登入會員資訊")])])]),t._v(" "),r("div",{staticClass:"card-body"},[r("div",{staticClass:"form-row ordererContactInfoInputBlock"},[r("div",{staticClass:"form-group col-md-2"},[r("ValidationProvider",{attrs:{rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.errors,a=e.classes;return[r("label",{attrs:{for:"inputMainName"}},[t._v("訂購人姓名")]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.inputOrdererInfo.MCname,expression:"inputOrdererInfo.MCname"}],staticClass:"form-control",class:a,attrs:{type:"text",id:"inputMainName",name:"訂購人姓名",placeholder:"訂購人姓名"},domProps:{value:t.inputOrdererInfo.MCname},on:{blur:function(e){return t.$eventBus.$emit("emitInputOrdererInfo",t.inputOrdererInfo)},keyup:function(e){t.syncMemberContactInfo=!1},input:function(e){e.target.composing||t.$set(t.inputOrdererInfo,"MCname",e.target.value)}}}),t._v(" "),r("span",{staticClass:"invalid-feedback"},[t._v(t._s(n[0]))])]}}])})],1),t._v(" "),r("div",{staticClass:"form-group col-md-2"},[r("ValidationProvider",{attrs:{rules:{required:!0,length:10,regex:/^09\d{8}$/}},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.errors,a=e.classes;return[r("label",{attrs:{for:"inputMainPhoneNumber"}},[t._v("訂購人手機號碼")]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.inputOrdererInfo.MCphone,expression:"inputOrdererInfo.MCphone"}],staticClass:"form-control",class:a,attrs:{type:"text",maxlength:"10",id:"inputMainPhoneNumber",name:"訂購人手機號碼",placeholder:"例：0933128872"},domProps:{value:t.inputOrdererInfo.MCphone},on:{blur:function(e){return t.$eventBus.$emit("emitInputOrdererInfo",t.inputOrdererInfo)},keyup:function(e){t.syncMemberContactInfo=!1},input:function(e){e.target.composing||t.$set(t.inputOrdererInfo,"MCphone",e.target.value)}}}),t._v(" "),r("span",{staticClass:"invalid-feedback"},[t._v(t._s(n[0]))])]}}])})],1),t._v(" "),r("div",{staticClass:"form-group col-md-4"},[r("ValidationProvider",{attrs:{rules:{required:!0,email:!0}},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.errors,a=e.classes;return[r("label",{attrs:{for:"inputMainEmail"}},[t._v("訂購人電子信箱")]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.inputOrdererInfo.MCemail,expression:"inputOrdererInfo.MCemail"}],staticClass:"form-control",class:a,attrs:{type:"email",id:"inputMainEmail",name:"訂購人電子信箱",placeholder:"例：Hello-World@email.com"},domProps:{value:t.inputOrdererInfo.MCemail},on:{blur:function(e){return t.$eventBus.$emit("emitInputOrdererInfo",t.inputOrdererInfo)},keyup:function(e){t.syncMemberContactInfo=!1},input:function(e){e.target.composing||t.$set(t.inputOrdererInfo,"MCemail",e.target.value)}}}),t._v(" "),r("span",{staticClass:"invalid-feedback"},[t._v(t._s(n[0]))])]}}])})],1)]),t._v(" "),r("div",{staticClass:"form-row ordererContactInfoInputBlock"},[r("div",{staticClass:"form-group col-md-2"},[r("ValidationProvider",{attrs:{rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.errors,a=e.classes;return[r("label",{attrs:{for:"inputSubName"}},[t._v(t._s(t.requiredInputTitle.ECname))]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.inputOrdererInfo.ECname,expression:"inputOrdererInfo.ECname"}],staticClass:"form-control",class:a,attrs:{type:"text",id:"inputSubName",name:t.requiredInputTitle.ECname,placeholder:t.requiredInputTitle.ECname},domProps:{value:t.inputOrdererInfo.ECname},on:{blur:function(e){return t.$eventBus.$emit("emitInputOrdererInfo",t.inputOrdererInfo)},keyup:function(e){t.syncMemberContactInfo=!1},input:function(e){e.target.composing||t.$set(t.inputOrdererInfo,"ECname",e.target.value)}}}),t._v(" "),r("span",{staticClass:"invalid-feedback"},[t._v(t._s(n[0]))])]}}])})],1),t._v(" "),r("div",{staticClass:"form-group col-md-2"},[r("ValidationProvider",{attrs:{rules:{required:!0,length:10,regex:/^09\d{8}$/}},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.errors,a=e.classes;return[r("label",{attrs:{for:"inputSubPhoneNumber"}},[t._v(t._s(t.requiredInputTitle.ECphone))]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.inputOrdererInfo.ECphone,expression:"inputOrdererInfo.ECphone"}],staticClass:"form-control",class:a,attrs:{type:"text",maxlength:"10",id:"inputSubPhoneNumber",name:t.requiredInputTitle.ECphone,placeholder:"例：0933128872"},domProps:{value:t.inputOrdererInfo.ECphone},on:{blur:function(e){return t.$eventBus.$emit("emitInputOrdererInfo",t.inputOrdererInfo)},keyup:function(e){t.syncMemberContactInfo=!1},input:function(e){e.target.composing||t.$set(t.inputOrdererInfo,"ECphone",e.target.value)}}}),t._v(" "),r("span",{staticClass:"invalid-feedback"},[t._v(t._s(n[0]))])]}}])})],1),t._v(" "),r("div",{staticClass:"form-group col-md-4"},[r("ValidationProvider",{attrs:{rules:{required:!0,email:!0}},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.errors,a=e.classes;return[r("label",{attrs:{for:"inputSubEmail"}},[t._v(t._s(t.requiredInputTitle.ECemail))]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.inputOrdererInfo.ECemail,expression:"inputOrdererInfo.ECemail"}],staticClass:"form-control",class:a,attrs:{type:"email",id:"inputSubEmail",name:t.requiredInputTitle.ECemail,placeholder:"例：Hello-World@email.com"},domProps:{value:t.inputOrdererInfo.ECemail},on:{blur:function(e){return t.$eventBus.$emit("emitInputOrdererInfo",t.inputOrdererInfo)},keyup:function(e){t.syncMemberContactInfo=!1},input:function(e){e.target.composing||t.$set(t.inputOrdererInfo,"ECemail",e.target.value)}}}),t._v(" "),r("span",{staticClass:"invalid-feedback"},[t._v(t._s(n[0]))])]}}])})],1)]),t._v(" "),r("hr"),t._v(" "),r("div",{staticClass:"form-row"},[r("div",{staticClass:"form-group col-md-2"},[r("ValidationProvider",{attrs:{rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.errors,a=e.classes;return[r("label",{attrs:{for:"inputCardName"}},[t._v("持卡人姓名")]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.creditCardData.name,expression:"creditCardData.name"}],staticClass:"form-control",class:a,attrs:{type:"text",id:"inputCardName",name:"持卡人姓名",placeholder:"持卡人姓名"},domProps:{value:t.creditCardData.name},on:{input:function(e){e.target.composing||t.$set(t.creditCardData,"name",e.target.value)}}}),t._v(" "),r("span",{staticClass:"invalid-feedback"},[t._v(t._s(n[0]))])]}}])})],1),t._v(" "),r("div",{staticClass:"form-group col-md-4"},[r("ValidationProvider",{attrs:{rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.errors,a=e.classes;return[r("label",{attrs:{for:"inputCardNumber"}},[t._v("信用卡卡號")]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.creditCardData.number,expression:"creditCardData.number"}],staticClass:"form-control",class:a,attrs:{type:"text",maxlength:"19",id:"inputCardNumber",name:"信用卡卡號",placeholder:"0000 0000 0000 0000"},domProps:{value:t.creditCardData.number},on:{input:[function(e){e.target.composing||t.$set(t.creditCardData,"number",e.target.value)},t.formatCreditCardNum]}}),t._v(" "),r("span",{staticClass:"invalid-feedback"},[t._v(t._s(n[0]))])]}}])})],1)]),t._v(" "),r("div",{staticClass:"form-row"},[r("div",{staticClass:"form-group col-md-2"},[r("ValidationProvider",{attrs:{rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.errors,a=e.classes;return[r("label",{attrs:{for:"inputCardNumber"}},[t._v("有效期")]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.creditCardData.date,expression:"creditCardData.date"}],staticClass:"form-control",class:a,attrs:{type:"text",id:"inputCardNumber",name:"有效期",placeholder:"例：08/2025"},domProps:{value:t.creditCardData.date},on:{input:[function(e){e.target.composing||t.$set(t.creditCardData,"date",e.target.value)},t.formatCreditCardExpDate]}}),t._v(" "),r("span",{staticClass:"invalid-feedback"},[t._v(t._s(n[0]))])]}}])})],1),t._v(" "),r("div",{staticClass:"form-group col-md-2"},[r("ValidationProvider",{attrs:{rules:{required:!0,length:3,regex:/\d{3}$/}},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.errors,a=e.classes;return[r("label",{attrs:{for:"inputCardCVV"}},[t._v("安全碼（CVV）")]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.creditCardData.cvv,expression:"creditCardData.cvv"}],staticClass:"form-control",class:a,attrs:{type:"text",id:"inputCardCVV",name:"安全碼（CVV）",placeholder:"卡片背面三碼",maxlength:"3"},domProps:{value:t.creditCardData.cvv},on:{input:[function(e){e.target.composing||t.$set(t.creditCardData,"cvv",e.target.value)},t.formatCreditCardCVV]}}),t._v(" "),r("span",{staticClass:"invalid-feedback"},[t._v(t._s(n[0]))])]}}])})],1)])])])},staticRenderFns:[]},dt={data:function(){return{inputOrdererInfo:{MCname:"",MCphone:"",MCemail:"",ECname:"",ECphone:"",ECemail:""},syncOrdererContactInfoAll:!1,syncOrdererContactInfoArr:[],inputContantInfoArr:[]}},props:["confirmProjectsArr","requiredInputTitle"],created:function(){var t=this;this.establishSyncOrdererContactInfoArr(),this.$eventBus.$on("emitInputOrdererInfo",function(e){t.inputOrdererInfo=e})},methods:{establishSyncOrdererContactInfoArr:function(){for(var t=JSON.parse(localStorage.getItem("savingProjects")).length,e=0;e<t;e++)this.$set(this.syncOrdererContactInfoArr,e,!1),this.$set(this.inputContantInfoArr,e,{MCname:"",MCphone:"",MCemail:"",ECname:"",ECphone:"",ECemail:""})},unsyncOrdererContactInfo:function(t){this.syncOrdererContactInfoArr[t]=!1,this.syncOrdererContactInfoAll=!1},simulateBlurEvt:function(t){var e=document.querySelectorAll(".projectBlockInCheckOutStep03")[t];console.log(e),e.querySelectorAll("input").forEach(function(t){return t.dispatchEvent(new Event("blur"))})},emitCheckOutData:function(){this.$emit("getCheckOutData",this.inputOrdererInfo,this.inputContantInfoArr)}},watch:{syncOrdererContactInfoAll:function(t){var e=this,r=this.syncOrdererContactInfoArr.every(function(t){return 1==t});t&&!r?this.syncOrdererContactInfoArr=this.syncOrdererContactInfoArr.map(function(t){return!0}):!t&&r&&(this.syncOrdererContactInfoArr=this.syncOrdererContactInfoArr.map(function(t){return!1})),document.querySelectorAll(".projectBlockInCheckOutStep03").forEach(function(t,r){return e.simulateBlurEvt(r)})},syncOrdererContactInfoArr:function(t){var e=this;t.forEach(function(t,r){t?e.$set(e.inputContantInfoArr,r,ct()({},e.inputOrdererInfo)):R()(e.inputContantInfoArr[r])==R()(e.inputOrdererInfo)&&e.$set(e.inputContantInfoArr,r,{MCname:"",MCphone:"",MCemail:"",ECname:"",ECphone:"",ECemail:""})})}}},mt={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("section",{staticClass:"card",attrs:{id:"checkoutStep03"}},[r("div",{staticClass:"card-header"},[r("h5",[t._v("第三步：填寫聯絡資訊")]),t._v(" "),r("div",{staticClass:"form-check form-check-inline"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.syncOrdererContactInfoAll,expression:"syncOrdererContactInfoAll"}],staticClass:"form-check-input",attrs:{type:"checkbox",id:"inlineCheckbox2",value:"option1"},domProps:{checked:Array.isArray(t.syncOrdererContactInfoAll)?t._i(t.syncOrdererContactInfoAll,"option1")>-1:t.syncOrdererContactInfoAll},on:{change:function(e){var r=t.syncOrdererContactInfoAll,n=e.target,a=!!n.checked;if(Array.isArray(r)){var i=t._i(r,"option1");n.checked?i<0&&(t.syncOrdererContactInfoAll=r.concat(["option1"])):i>-1&&(t.syncOrdererContactInfoAll=r.slice(0,i).concat(r.slice(i+1)))}else t.syncOrdererContactInfoAll=a}}}),t._v(" "),r("label",{staticClass:"form-check-label",attrs:{for:"inlineCheckbox2"}},[t._v("同訂購人資訊（全部）")])])]),t._v(" "),r("div",{staticClass:"card-body"},t._l(t.confirmProjectsArr,function(e,n){return r("div",{key:n,staticClass:"projectBlockInCheckOutStep03",attrs:{"data-id":e.bookingProjectID+"-"+e.bookingProjectDate}},[r("span",{staticClass:"id"},[t._v(t._s(e.bookingProjectID))]),t._v(", "),r("span",{staticClass:"date"},[t._v(t._s(e.bookingProjectDate))]),t._v(","),r("span",{staticClass:"people2"},[t._v(t._s(e.bookingProjectNumOfPeople))]),t._v(" "),r("div",{staticClass:"col"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.syncOrdererContactInfoArr[n],expression:"syncOrdererContactInfoArr[index]"}],key:"inlineCheckbox"+(n+3),staticClass:"form-check-input checkboxForProject",attrs:{type:"checkbox",id:"inlineCheckbox"+(n+3),value:"option1"},domProps:{checked:Array.isArray(t.syncOrdererContactInfoArr[n])?t._i(t.syncOrdererContactInfoArr[n],"option1")>-1:t.syncOrdererContactInfoArr[n]},on:{change:[function(e){var r=t.syncOrdererContactInfoArr[n],a=e.target,i=!!a.checked;if(Array.isArray(r)){var s=t._i(r,"option1");a.checked?s<0&&t.$set(t.syncOrdererContactInfoArr,n,r.concat(["option1"])):s>-1&&t.$set(t.syncOrdererContactInfoArr,n,r.slice(0,s).concat(r.slice(s+1)))}else t.$set(t.syncOrdererContactInfoArr,n,i)},function(e){return t.simulateBlurEvt(n)}]}}),t._v(" "),r("label",{staticClass:"form-check-label",attrs:{for:"inlineCheckbox"+(n+3)}},[t._v("同訂購資訊（個案）")])]),t._v(" "),r("div",{staticClass:"form-row contactInfoInputBlock",attrs:{id:"contactInfoInputBlock"+n}},[r("div",{staticClass:"form-group col-md-2"},[r("ValidationProvider",{attrs:{rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.errors,i=e.classes;return[r("label",{attrs:{for:"inputMainName"+(n+1)}},[t._v(t._s(t.requiredInputTitle.MCname))]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.inputContantInfoArr[n].MCname,expression:"inputContantInfoArr[index].MCname"}],key:"inputMainName"+(n+1),staticClass:"form-control",class:i,attrs:{type:"text",id:"inputMainName"+(n+1),name:t.requiredInputTitle.MCname,placeholder:t.requiredInputTitle.MCname},domProps:{value:t.inputContantInfoArr[n].MCname},on:{keyup:function(e){return t.unsyncOrdererContactInfo(n)},input:function(e){e.target.composing||t.$set(t.inputContantInfoArr[n],"MCname",e.target.value)}}}),t._v(" "),r("span",{staticClass:"invalid-feedback"},[t._v(t._s(a[0]))])]}}],null,!0)})],1),t._v(" "),r("div",{staticClass:"form-group col-md-2"},[r("ValidationProvider",{attrs:{rules:{required:!0,regex:/^09\d{8}$/}},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.errors,i=e.classes;return[r("label",{attrs:{for:"inputMainPhoneNumber"+(n+1)}},[t._v(t._s(t.requiredInputTitle.MCphone))]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.inputContantInfoArr[n].MCphone,expression:"inputContantInfoArr[index].MCphone"}],key:"inputMainPhoneNumber"+(n+1),staticClass:"form-control",class:i,attrs:{type:"text",maxlength:"10",id:"inputMainPhoneNumber"+(n+1),name:t.requiredInputTitle.MCphone,placeholder:"例：0933128872"},domProps:{value:t.inputContantInfoArr[n].MCphone},on:{keyup:function(e){return t.unsyncOrdererContactInfo(n)},input:function(e){e.target.composing||t.$set(t.inputContantInfoArr[n],"MCphone",e.target.value)}}}),t._v(" "),r("span",{staticClass:"invalid-feedback"},[t._v(t._s(a[0]))])]}}],null,!0)})],1),t._v(" "),r("div",{staticClass:"form-group col-md-4"},[r("ValidationProvider",{attrs:{rules:{required:!0,email:!0}},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.errors,i=e.classes;return[r("label",{attrs:{for:"inputMainEmail"+(n+1)}},[t._v(t._s(t.requiredInputTitle.MCemail))]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.inputContantInfoArr[n].MCemail,expression:"inputContantInfoArr[index].MCemail"}],key:"inputMainEmail"+(n+1),staticClass:"form-control",class:i,attrs:{type:"email",id:"inputMainEmail"+(n+1),name:t.requiredInputTitle.ECemeal,placeholder:"例：Hello-World@email.com"},domProps:{value:t.inputContantInfoArr[n].MCemail},on:{keyup:function(e){return t.unsyncOrdererContactInfo(n)},input:function(e){e.target.composing||t.$set(t.inputContantInfoArr[n],"MCemail",e.target.value)}}}),t._v(" "),r("span",{staticClass:"invalid-feedback"},[t._v(t._s(a[0]))])]}}],null,!0)})],1)]),t._v(" "),r("div",{staticClass:"form-row contactInfoInputBlock",attrs:{id:"contactInfoInputBlock"+(n+1)}},[r("div",{staticClass:"form-group col-md-2"},[r("ValidationProvider",{attrs:{rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.errors,i=e.classes;return[r("label",{attrs:{for:"inputSubName"+(n+2)}},[t._v(t._s(t.requiredInputTitle.ECname))]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.inputContantInfoArr[n].ECname,expression:"inputContantInfoArr[index].ECname"}],key:"inputSubName"+(n+2),staticClass:"form-control",class:i,attrs:{type:"text",id:"inputSubName"+(n+2),name:t.requiredInputTitle.ECname,placeholder:t.requiredInputTitle.ECname},domProps:{value:t.inputContantInfoArr[n].ECname},on:{keyup:function(e){return t.unsyncOrdererContactInfo(n)},input:function(e){e.target.composing||t.$set(t.inputContantInfoArr[n],"ECname",e.target.value)}}}),t._v(" "),r("span",{staticClass:"invalid-feedback"},[t._v(t._s(a[0]))])]}}],null,!0)})],1),t._v(" "),r("div",{staticClass:"form-group col-md-2"},[r("ValidationProvider",{attrs:{rules:{required:!0,regex:/^09\d{8}$/}},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.errors,i=e.classes;return[r("label",{attrs:{for:"inputSubPhoneNumber"+(n+2)}},[t._v(t._s(t.requiredInputTitle.ECphone))]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.inputContantInfoArr[n].ECphone,expression:"inputContantInfoArr[index].ECphone"}],key:"inputSubPhoneNumber"+(n+2),staticClass:"form-control",class:i,attrs:{type:"text",maxlength:"10",id:"inputSubPhoneNumber"+(n+2),name:t.requiredInputTitle.ECphone,placeholder:"例：0933128872"},domProps:{value:t.inputContantInfoArr[n].ECphone},on:{keyup:function(e){return t.unsyncOrdererContactInfo(n)},input:function(e){e.target.composing||t.$set(t.inputContantInfoArr[n],"ECphone",e.target.value)}}}),t._v(" "),r("span",{staticClass:"invalid-feedback"},[t._v(t._s(a[0]))])]}}],null,!0)})],1),t._v(" "),r("div",{staticClass:"form-group col-md-4"},[r("ValidationProvider",{attrs:{rules:{required:!0,email:!0}},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.errors,i=e.classes;return[r("label",{attrs:{for:"inputSubEmail"+(n+2)}},[t._v(t._s(t.requiredInputTitle.ECemail))]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.inputContantInfoArr[n].ECemail,expression:"inputContantInfoArr[index].ECemail"}],key:"inputSubEmail"+(n+2),staticClass:"form-control",class:i,attrs:{type:"email",id:"inputSubEmail"+(n+2),name:t.requiredInputTitle.ECemail,placeholder:"例：Hello-World@email.com"},domProps:{value:t.inputContantInfoArr[n].ECemail},on:{keyup:function(e){return t.unsyncOrdererContactInfo(n)},input:function(e){e.target.composing||t.$set(t.inputContantInfoArr[n],"ECemail",e.target.value)}}}),t._v(" "),r("span",{staticClass:"invalid-feedback"},[t._v(t._s(a[0]))])]}}],null,!0)})],1)]),t._v(" "),n<t.confirmProjectsArr.length-1?r("hr"):t._e()])}),0)])},staticRenderFns:[]},pt={data:function(){return{}},props:["situation","deleteInvalidProjects"],created:function(){},methods:{reactionBySituation:function(){var t=this;switch(this.situation.event){case"伺服器異常":case"訂購成功":setTimeout(function(){return t.$router.push({name:"首頁"})},1e3);break;case"重複訂購":this.deleteInvalidProjects(this.situation.data)}}}},vt={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"modal fade",attrs:{id:"checkOutModel",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[r("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[r("div",{staticClass:"modal-content"},[t._m(0),t._v(" "),r("div",{staticClass:"modal-body"},[r("p",{domProps:{innerHTML:t._s(t.situation.message)}})]),t._v(" "),r("div",{staticClass:"modal-footer"},[r("button",{staticClass:"btn btn-primary",attrs:{type:"button","data-dismiss":"modal"},on:{click:function(e){return e.preventDefault(),t.reactionBySituation(e)}}},[t._v("\n          我知道了\n        ")])])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"modal-header"},[e("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[this._v("提示訊息")]),this._v(" "),e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",{attrs:{"aria-hidden":"true"}},[this._v("×")])])])}]};var ft={data:function(){return{requiredInputTitle:{MCname:"主要聯絡人姓名",MCphone:"主要聯絡人手機號碼",MCemail:"主要聯絡人電子信箱",ECname:"緊急聯絡人姓名",ECphone:"緊急聯絡人手機號碼",ECemail:"緊急聯絡人電子信箱"},situation:{event:"",message:"",data:{}},aa:""}},props:["confirmProjectsArr"],components:{FormOrderInfo:r("VU/8")(lt,ut,!1,null,null,null).exports,FormContactInfo:r("VU/8")(dt,mt,!1,null,null,null).exports,Modal:r("VU/8")(pt,vt,!1,function(t){r("Tark")},"data-v-baef16d8",null).exports},methods:{checkOut:function(t,e){var r=this,n=[];JSON.parse(localStorage.getItem("savingProjects")).forEach(function(t){return n.push(t)}),n.forEach(function(t,r,n){var a=ct()({},t,e[r]);n[r]=a});var a=R()({memberID:"MB0000001",ordererContactInfo:t,orderDetails:n});this.$http.post("https://be-sp-0001-kapitan.herokuapp.com/API/Forestage/CheckOut.php",a).then(function(t){console.log(t),r.aa=t.data,"訂購成功"==t.data.status?(r.situation.event="訂購成功",r.situation.message=t.data.message,localStorage.removeItem("savingProjects")):"重複訂購"==t.data.status&&(r.situation.event="重複訂購",r.situation.message=t.data.message,r.situation.data=t.data.invalidAProjects)}).catch(function(t){console.log(t),r.situation.event="伺服器異常",r.situation.message="伺服器異常，請稍後再試。系統現將引導您回到首頁。<br>造成您的不便，敬請見諒！",r.situation.data=t})},deleteInvalidProjects:function(t){var e=this;t.forEach(function(t){e.confirmProjectsArr.forEach(function(r,n){t.FK_PROJECT_ID_for_BK+"-"+t.BOOKING_DATE==r.localstorageID&&e.confirmProjectsArr.splice(n,1)})}),this.confirmProjectsArr.length>0?localStorage.setItem("savingProjects",R()(this.confirmProjectsArr)):localStorage.removeItem("savingProjects")}}},Ct={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"row"},[r("div",{staticClass:"col-12"},[r("Modal",{attrs:{situation:t.situation,deleteInvalidProjects:t.deleteInvalidProjects}}),t._v(" "),r("ValidationObserver",{scopedSlots:t._u([{key:"default",fn:function(e){var n=e.invalid;return[r("form",[r("FormOrderInfo",{attrs:{confirmProjectsArr:t.confirmProjectsArr,requiredInputTitle:t.requiredInputTitle}}),t._v(" "),r("FormContactInfo",{ref:"formContactInfo",attrs:{confirmProjectsArr:t.confirmProjectsArr,requiredInputTitle:t.requiredInputTitle},on:{getCheckOutData:t.checkOut}}),t._v(" "),r("input",{staticClass:"btn btn-primary mt-5",attrs:{type:"submit",value:"立即結帳",disabled:n,"data-toggle":"modal","data-target":"#checkOutModel","data-backdrop":"static"},on:{click:function(e){return e.preventDefault(),t.$refs.formContactInfo.emitCheckOutData(e)}}})],1)]}}])}),t._v(" "),r("div",{staticClass:"my-5"},[t._v("\n      "+t._s(t.aa)+"\n    ")])],1)])},staticRenderFns:[]},_t=r("VU/8")(ft,Ct,!1,null,null,null).exports,gt={render:function(){var t=this.$createElement;return(this._self._c||t)("div")},staticRenderFns:[]};var ht=r("VU/8")({data:function(){return{}}},gt,!1,function(t){r("/J+/")},"data-v-63ae77f8",null).exports,bt={render:function(){var t=this.$createElement;return(this._self._c||t)("router-view")},staticRenderFns:[]},Pt=r("VU/8")({data:function(){return{}}},bt,!1,null,null,null).exports,It={data:function(){return{signInForm:{emailPlaceHolder:"請輸入帳號",passwordPlaceHolder:"請輸入密碼"},signInData:{account:"",password:""},signInFailedFeedback:{signInFailedWarning:!1,signInFailedAnime:!1}}},methods:{signIn:function(){var t=this;this.$http.post("https://be-sp-0001-kapitan.herokuapp.com/API/Backstage/AdminSignIn.php",R()(this.signInData)).then(function(e){if(console.log(e),e.data.singInStatus){var r=e.data.session,n=new Date(e.data.expDate);document.cookie='kapitanSession="'+r+'"; expires="'+n+'"',t.$router.push({name:"管理系統：首頁"})}else t.signInData.account="",t.signInData.password="",t.signInFailedFeedback.signInFailedWarning=!0,t.signInFailedFeedback.signInFailedAnime=!0,setTimeout(function(){t.signInFailedFeedback.signInFailedAnime=!1},1200)}).catch(function(t){console.log(t)})}}},Et={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("main",{staticClass:"text-center"},[n("form",{staticClass:"form-signin"},[n("img",{staticClass:"mb-2",attrs:{src:r("KSwb")}}),t._v(" "),n("h3",{staticClass:"h3 mb-3 font-weight-normal"},[t._v("請登入管理系統")]),t._v(" "),n("div",{staticClass:"inpitArea",class:{shaking:t.signInFailedFeedback.signInFailedAnime}},[n("label",{key:"emailLabel",staticClass:"sr-only",attrs:{for:"inputEmail"}},[t._v("請輸入帳號")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.signInData.account,expression:"signInData.account"}],key:"inputEmail",staticClass:"form-control",attrs:{type:"email",id:"inputEmail",placeholder:t.signInForm.emailPlaceHolder,required:"",autofocus:""},domProps:{value:t.signInData.account},on:{input:function(e){e.target.composing||t.$set(t.signInData,"account",e.target.value)}}}),t._v(" "),n("label",{key:"passwordLabel",staticClass:"sr-only",attrs:{for:"inputPassword"}},[t._v("請輸入密碼")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.signInData.password,expression:"signInData.password"}],key:"inputPassword",staticClass:"form-control",attrs:{type:"password",id:"inputPassword",placeholder:t.signInForm.passwordPlaceHolder,required:""},domProps:{value:t.signInData.password},on:{input:function(e){e.target.composing||t.$set(t.signInData,"password",e.target.value)}}})]),t._v(" "),t._m(0),t._v(" "),n("button",{staticClass:"btn btn-lg btn-primary btn-block",attrs:{type:"submit"},on:{click:function(e){return e.preventDefault(),t.signIn(e)}}},[n("span",[t._v("登入")])]),t._v(" "),n("div",{staticClass:"position-relative"},[t.signInFailedFeedback.signInFailedWarning?n("div",{staticClass:"position-absolute",attrs:{id:"signInFailedWarning"}},[t._v("\n        帳號或密碼錯誤\n      ")]):t._e()]),t._v(" "),n("p",{staticClass:"mt-5 mb-3 text-muted"},[t._v("© 2017-2018")])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"checkbox mb-3"},[e("label",[e("input",{attrs:{type:"checkbox",value:"記住我"}}),this._v(" 記住我 ")])])}]};var kt=r("VU/8")(It,Et,!1,function(t){r("wnDj")},"data-v-66753bf7",null).exports,At={data:function(){return{currentPage:"歡迎使用",adminInfo:{name:"",level:"",avatarUrl:""},managers:{ordersManger:{name:"訂單管理",icon:"fa-tasks"},projectsManger:{name:"方案管理",icon:"fa-ship"},membersManger:{name:"會員管理",icon:"fa-users-cog"}}}},created:function(){var t=this,e=t.getKapitanSession();this.$http.post("https://be-sp-0001-kapitan.herokuapp.com/API/Backstage/AdminInfo.php",e).then(function(e){t.adminInfo.name=e.data.adminName,t.adminInfo.level=e.data.adminLevel,t.adminInfo.avatarUrl=e.data.adminAvatarUrl})},methods:{signOut:function(){var t=this;document.cookie="kapitanSession= ; expires = Thu, 01 Jan 1970 00:00:00 GMT",setTimeout(function(){t.$router.push({name:"管理系統：登入頁"})},1e3)},getKapitanSession:function(){var t=document.cookie,e=t.split("").indexOf("=")+2,r=t.length-e-1;return t.substr(e,r)},switchPage:function(t){this.currentPage=t,this.$router.push({name:"管理系統："+t})}}},Dt={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"backgroud"},[n("div",{staticClass:"container"},[n("div",{staticClass:"d-flex flex-row dashboard"},[n("aside",{staticClass:"side-bar"},[n("div",{staticClass:"admin-avatar-block"},[n("div",{staticClass:"admin-avatar"},[n("img",{attrs:{src:t.adminInfo.avatarUrl,alt:""}})])]),t._v(" "),n("h6",{staticClass:"text-center mb-5"},[t._v("\n          您好，"+t._s(t.adminInfo.name)+"！"),n("br"),t._v(" "),n("div",{staticClass:"mt-2"},[t._v("權限："+t._s(t.adminInfo.level))])]),t._v(" "),n("ul",t._l(t.managers,function(e,r){return n("li",{key:r,staticClass:"d-flex",class:t.currentPage==e.name?"current-page":"",on:{click:function(r){return r.preventDefault(),t.switchPage(e.name)}}},[n("div",{staticClass:"icon-block inline-block d-flex align-items-center"},[n("i",{staticClass:"fas",class:e.icon})]),t._v(" "),n("div",{staticClass:"inline-block"},[t._v("\n              "+t._s(e.name)+"\n            ")])])}),0),t._v(" "),t._m(0),t._v(" "),n("div",{staticClass:"text-center"},[t._v("© 2035 Kapitan")])]),t._v(" "),n("main",{staticClass:"main-content"},[n("div",{staticClass:"card-header d-flex flex-row justify-content-between align-items-center"},[n("h5",[t._v(t._s(t.currentPage))]),t._v(" "),n("button",{staticClass:"btn btn-danger",on:{click:function(e){return e.preventDefault(),t.signOut(e)}}},[t._v("\n            登出\n          ")])]),t._v(" "),n("div",{staticClass:"card-body"},["管理系統：首頁"==t.$route.name?n("section",{staticClass:"welcome-page d-flex flex-column align-items-center justify-content-center"},[n("img",{staticClass:"fade-in",attrs:{src:r("KSwb")}}),t._v(" "),n("h2",{staticClass:"mt-2 fade-in"},[t._v("乘載您的凌波壯志")])]):t._e(),t._v(" "),n("router-view")],1)])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"text-center mb-1"},[this._v("\n          甲必丹管理系統"),e("span",{staticClass:"ml-2"},[this._v("v1.0")])])}]};var yt=r("VU/8")(At,Dt,!1,function(t){r("MqBh")},"data-v-0cfb6254",null).exports,xt={data:function(){return{queryData:{orderID:"",orderDate:"",memberAccount:"",ordererName:"",ordererPhone:"",ordererEmail:""},allOrdersArr:[],itemsNumPerPage:5,currentPageContentArr:[]}},components:{Pagination:F},methods:{submitOrdersQuuery:function(){var t=this;this.$http.post("https://be-sp-0001-kapitan.herokuapp.com/API/Backstage/QueryOrders.php",R()(t.queryData)).then(function(e){console.log(e.data),t.allOrdersArr=e.data}).catch(function(t){console.log(t)})},getCurrentPageContentArr:function(t){this.currentPageContentArr=t},checkOrderDetails:function(t){localStorage.removeItem("selectedOrderID"),localStorage.setItem("selectedOrderID",t),this.$router.push({name:"管理系統：訂單細節清單"})}}},Ot={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("div",{staticClass:"row"},[r("div",{staticClass:"col-10"},[r("form",[r("div",{staticClass:"form-row"},[r("div",{staticClass:"form-group col-md-3"},[r("label",{attrs:{for:"orderID"}},[t._v("訂單編號")]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.queryData.orderID,expression:"queryData.orderID"}],staticClass:"form-control",attrs:{type:"text",id:"orderID",placeholder:"OD0000000001"},domProps:{value:t.queryData.orderID},on:{input:function(e){e.target.composing||t.$set(t.queryData,"orderID",e.target.value)}}})]),t._v(" "),r("div",{staticClass:"form-group col-md-3"},[r("label",{attrs:{for:"orderDate"}},[t._v("訂單日期")]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.queryData.orderDate,expression:"queryData.orderDate"}],staticClass:"form-control",attrs:{type:"date",id:"orderDate"},domProps:{value:t.queryData.orderDate},on:{input:function(e){e.target.composing||t.$set(t.queryData,"orderDate",e.target.value)}}})]),t._v(" "),r("div",{staticClass:"form-group col-md-4"},[r("label",{attrs:{for:"memberAccount"}},[t._v("會員帳號")]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.queryData.memberAccount,expression:"queryData.memberAccount"}],staticClass:"form-control",attrs:{type:"eamil",id:"memberAccount",placeholder:"Hello-World@email.com"},domProps:{value:t.queryData.memberAccount},on:{input:function(e){e.target.composing||t.$set(t.queryData,"memberAccount",e.target.value)}}})])])])])]),t._v(" "),r("div",{staticClass:"row"},[r("div",{staticClass:"col-10"},[r("form",[r("div",{staticClass:"form-row"},[r("div",{staticClass:"form-group col-md-3"},[r("label",{attrs:{for:"ordererName"}},[t._v("訂購人姓名")]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.queryData.ordererName,expression:"queryData.ordererName"}],staticClass:"form-control",attrs:{type:"text",id:"ordererName",placeholder:"訂購人姓名"},domProps:{value:t.queryData.ordererName},on:{input:function(e){e.target.composing||t.$set(t.queryData,"ordererName",e.target.value)}}})]),t._v(" "),r("div",{staticClass:"form-group col-md-3"},[r("label",{attrs:{for:"ordererPhone"}},[t._v("訂購人手機")]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.queryData.ordererPhone,expression:"queryData.ordererPhone"}],staticClass:"form-control",attrs:{type:"text",id:"ordererPhone",placeholder:"0933128872"},domProps:{value:t.queryData.ordererPhone},on:{input:function(e){e.target.composing||t.$set(t.queryData,"ordererPhone",e.target.value)}}})]),t._v(" "),r("div",{staticClass:"form-group col-md-4"},[r("label",{attrs:{for:"ordererEmail"}},[t._v("訂購人電子信箱")]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.queryData.ordererEmail,expression:"queryData.ordererEmail"}],staticClass:"form-control",attrs:{type:"email",id:"ordererEmail",placeholder:"Hello-World@email.com"},domProps:{value:t.queryData.ordererEmail},on:{input:function(e){e.target.composing||t.$set(t.queryData,"ordererEmail",e.target.value)}}})]),t._v(" "),r("div",{staticClass:"form-group col-md-1 ml-3"},[r("label",{attrs:{for:""}},[t._v(" ")]),t._v(" "),r("input",{staticClass:"btn btn-primary",attrs:{type:"button",value:"進行查詢"},on:{click:function(e){return e.preventDefault(),t.submitOrdersQuuery(e)}}})])])])])]),t._v(" "),r("div",[r("h6",{staticClass:"my-4"},[t._v("查詢結果：")]),t._v(" "),r("table",{staticClass:"table table-striped queryResultsTable"},[t._m(0),t._v(" "),t._l(t.currentPageContentArr,function(e,n){return r("tbody",{key:n},[r("tr",{staticClass:"order-item",on:{click:function(e){return e.preventDefault(),t.checkOrderDetails(t.currentPageContentArr[n].ORDER_ID)}}},[r("th",{staticClass:"text-center",attrs:{scope:"row"}},[t._v(t._s(n+1))]),t._v(" "),r("td",[t._v(t._s(t.currentPageContentArr[n].ORDER_ID))]),t._v(" "),r("td",{staticClass:"text-center"},[t._v("\n            "+t._s(t.currentPageContentArr[n].ORDER_MC_NAME)+"\n          ")]),t._v(" "),r("td",{staticClass:"text-center"},[t._v("\n            "+t._s(t.currentPageContentArr[n].ORDER_MC_PHONE)+"\n          ")]),t._v(" "),r("td",{staticClass:"text-center"},[t._v("\n            "+t._s(t.currentPageContentArr[n].ORDER_MC_EMAIL)+"\n          ")]),t._v(" "),r("td",{staticClass:"text-center"},[t._v("\n            "+t._s(t.currentPageContentArr[n].ORDER_DATE)+"\n          ")]),t._v(" "),r("td",{staticClass:"text-center"},[t._v("\n            "+t._s(t.currentPageContentArr[n].FK_MEMBER_ID_for_OD)+"\n          ")]),t._v(" "),r("td",{staticClass:"text-center"},[t._v("\n            "+t._s(t.currentPageContentArr[n].ORDER_TOTAL_CONSUMPTION-t.currentPageContentArr[n].ORDER_TOTAL_DISCOUNT)+"\n          ")])])])})],2),t._v(" "),t.currentPageContentArr.length<=0?r("div",{staticClass:"text-danger mt-5 text-center"},[t._v("\n      查無資料\n    ")]):t._e(),t._v(" "),r("div",{staticClass:"d-flex justify-content-center mt-4",attrs:{id:"paginationContainer"}},[r("Pagination",{directives:[{name:"show",rawName:"v-show",value:t.currentPageContentArr.length>0,expression:"currentPageContentArr.length > 0"}],attrs:{allContentArr:t.allOrdersArr,itemsNumPerPage:t.itemsNumPerPage},on:{emitCurrentPageContentArr:t.getCurrentPageContentArr}})],1)])])},staticRenderFns:[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("thead",[r("tr",[r("th",{staticClass:"text-center",attrs:{scope:"col"}},[t._v("序號")]),t._v(" "),r("th",{staticClass:"text-center",attrs:{scope:"col"}},[t._v("訂單編號")]),t._v(" "),r("th",{staticClass:"text-center",attrs:{scope:"col"}},[t._v("訂購人姓名")]),t._v(" "),r("th",{staticClass:"text-center",attrs:{scope:"col"}},[t._v("訂購人手機")]),t._v(" "),r("th",{staticClass:"text-center",attrs:{scope:"col"}},[t._v("訂購人電子信箱")]),t._v(" "),r("th",{staticClass:"text-center",attrs:{scope:"col"}},[t._v("訂購單日期")]),t._v(" "),r("th",{staticClass:"text-center",attrs:{scope:"col"}},[t._v("會員編號")]),t._v(" "),r("th",{staticClass:"text-center",attrs:{scope:"col"}},[t._v("訂單總額")])])])}]};var jt=r("VU/8")(xt,Ot,!1,function(t){r("onky")},"data-v-8fa7b998",null).exports,Mt={data:function(){return{requiredInputTitle:{MCname:"主要聯絡人姓名",MCphone:"主要聯絡人手機號碼",MCemail:"主要聯絡人電子信箱",ECname:"緊急聯絡人姓名",ECphone:"緊急聯絡人手機號碼",ECemail:"緊急聯絡人電子信箱",projectID:"方案編號",bookingDate:"預約日期"},editDetails:{orderDetailID:"",MCname:"",MCphone:"",MCemail:"",ECname:"",ECphone:"",ECemail:"",projectID:"",bookingDate:""}}},props:["currentPageContentArr","inEditingIndex"],methods:{updateOrderDetails:function(){var t=this,e=t.getKapitanSession(),r=this.currentPageContentArr,n=this.inEditingIndex;t.editDetails.orderDetailID=r[n].ORDER_DETAIL_ID,t.editDetails.MCname=r[n].ORDER_DETAIL_MC_NAME,t.editDetails.MCphone=r[n].ORDER_DETAIL_MC_PHONE,t.editDetails.MCemail=r[n].ORDER_DETAIL_MC_EMAIL,t.editDetails.ECname=r[n].ORDER_DETAIL_EC_NAME,t.editDetails.ECphone=r[n].ORDER_DETAIL_EC_PHONE,t.editDetails.ECemail=r[n].ORDER_DETAIL_EC_EMAIL,t.editDetails.projectID=r[n].PROJECT_ID,t.editDetails.bookingDate=r[n].BOOKING_DATE;var a={session:e,editedDetails:t.editDetails};t.$http.post("https://be-sp-0001-kapitan.herokuapp.com/API/Backstage/UpdateOrderDetails.php",R()(a)).then(function(t){console.log(t)}).catch(function(t){console.log(t)}),t.$emit("update:currentPageContentArr",t.currentPageContentArr),t.$emit("update:inEditingIndex",-1)},getKapitanSession:function(){var t=document.cookie,e=t.split("").indexOf("=")+2,r=t.length-e-1;return t.substr(e,r)}},watch:{currentPageContentArr:function(){this.currentPageContentArr=this.currentPageContentArr},inEditingIndex:function(){this.inEditingIndex=this.inEditingIndex}}},Nt={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.inEditingIndex>=0?r("div",{staticClass:"order-details-form"},[r("h6",{staticClass:"my-3"},[t._v("\n    正在編輯："+t._s(t.currentPageContentArr[t.inEditingIndex].ORDER_DETAIL_ID)+"\n  ")]),t._v(" "),r("ValidationObserver",{scopedSlots:t._u([{key:"default",fn:function(e){var n=e.invalid;return[r("form",[r("div",{staticClass:"form-row"},[r("div",{staticClass:"form-group col-md-2"},[r("ValidationProvider",{attrs:{rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.errors,a=e.classes;return[r("label",{attrs:{for:t.requiredInputTitle.MCname}},[t._v(t._s(t.requiredInputTitle.MCname))]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.currentPageContentArr[t.inEditingIndex].ORDER_DETAIL_MC_NAME,expression:"\n                currentPageContentArr[inEditingIndex].ORDER_DETAIL_MC_NAME\n              "}],staticClass:"form-control",class:a,attrs:{type:"text",id:t.requiredInputTitle.MCname,placeholder:"聯絡人姓名"},domProps:{value:t.currentPageContentArr[t.inEditingIndex].ORDER_DETAIL_MC_NAME},on:{input:function(e){e.target.composing||t.$set(t.currentPageContentArr[t.inEditingIndex],"ORDER_DETAIL_MC_NAME",e.target.value)}}}),t._v(" "),r("span",{staticClass:"invalid-feedback"},[t._v(t._s(n[0]))])]}}],null,!0)})],1),t._v(" "),r("div",{staticClass:"form-group col-md-3"},[r("ValidationProvider",{attrs:{rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.errors,a=e.classes;return[r("label",{attrs:{for:t.requiredInputTitle.MCphone}},[t._v(t._s(t.requiredInputTitle.MCphone))]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.currentPageContentArr[t.inEditingIndex].ORDER_DETAIL_MC_PHONE,expression:"\n                currentPageContentArr[inEditingIndex].ORDER_DETAIL_MC_PHONE\n              "}],staticClass:"form-control",class:a,attrs:{type:"text",id:t.requiredInputTitle.MCphone,placeholder:"例：0933128872"},domProps:{value:t.currentPageContentArr[t.inEditingIndex].ORDER_DETAIL_MC_PHONE},on:{input:function(e){e.target.composing||t.$set(t.currentPageContentArr[t.inEditingIndex],"ORDER_DETAIL_MC_PHONE",e.target.value)}}}),t._v(" "),r("span",{staticClass:"invalid-feedback"},[t._v(t._s(n[0]))])]}}],null,!0)})],1),t._v(" "),r("div",{staticClass:"form-group col-md-4"},[r("ValidationProvider",{attrs:{rules:{required:!0,email:!0}},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.errors,a=e.classes;return[r("label",{attrs:{for:t.requiredInputTitle.MCemail}},[t._v(t._s(t.requiredInputTitle.MCemail))]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.currentPageContentArr[t.inEditingIndex].ORDER_DETAIL_MC_EMAIL,expression:"\n                currentPageContentArr[inEditingIndex].ORDER_DETAIL_MC_EMAIL\n              "}],staticClass:"form-control",class:a,attrs:{type:"email",id:t.requiredInputTitle.MCemail,placeholder:"例：Hello-World@email.com"},domProps:{value:t.currentPageContentArr[t.inEditingIndex].ORDER_DETAIL_MC_EMAIL},on:{input:function(e){e.target.composing||t.$set(t.currentPageContentArr[t.inEditingIndex],"ORDER_DETAIL_MC_EMAIL",e.target.value)}}}),t._v(" "),r("span",{staticClass:"invalid-feedback"},[t._v(t._s(n[0]))])]}}],null,!0)})],1)]),t._v(" "),r("div",{staticClass:"form-row"},[r("div",{staticClass:"form-group col-md-2"},[r("ValidationProvider",{attrs:{rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.errors,a=e.classes;return[r("label",{attrs:{for:t.requiredInputTitle.ECname}},[t._v(t._s(t.requiredInputTitle.ECname))]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.currentPageContentArr[t.inEditingIndex].ORDER_DETAIL_EC_NAME,expression:"\n                currentPageContentArr[inEditingIndex].ORDER_DETAIL_EC_NAME\n              "}],staticClass:"form-control",class:a,attrs:{type:"text",id:t.requiredInputTitle.ECname,placeholder:"聯絡人姓名"},domProps:{value:t.currentPageContentArr[t.inEditingIndex].ORDER_DETAIL_EC_NAME},on:{input:function(e){e.target.composing||t.$set(t.currentPageContentArr[t.inEditingIndex],"ORDER_DETAIL_EC_NAME",e.target.value)}}}),t._v(" "),r("span",{staticClass:"invalid-feedback"},[t._v(t._s(n[0]))])]}}],null,!0)})],1),t._v(" "),r("div",{staticClass:"form-group col-md-3"},[r("ValidationProvider",{attrs:{rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.errors,a=e.classes;return[r("label",{attrs:{for:t.requiredInputTitle.ECphone}},[t._v(t._s(t.requiredInputTitle.ECphone))]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.currentPageContentArr[t.inEditingIndex].ORDER_DETAIL_EC_PHONE,expression:"\n                currentPageContentArr[inEditingIndex].ORDER_DETAIL_EC_PHONE\n              "}],staticClass:"form-control",class:a,attrs:{type:"text",id:t.requiredInputTitle.ECphone,placeholder:"例：0933128872"},domProps:{value:t.currentPageContentArr[t.inEditingIndex].ORDER_DETAIL_EC_PHONE},on:{input:function(e){e.target.composing||t.$set(t.currentPageContentArr[t.inEditingIndex],"ORDER_DETAIL_EC_PHONE",e.target.value)}}}),t._v(" "),r("span",{staticClass:"invalid-feedback"},[t._v(t._s(n[0]))])]}}],null,!0)})],1),t._v(" "),r("div",{staticClass:"form-group col-md-4"},[r("ValidationProvider",{attrs:{rules:{required:!0,email:!0}},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.errors,a=e.classes;return[r("label",{attrs:{for:t.requiredInputTitle.ECemail}},[t._v(t._s(t.requiredInputTitle.ECemail))]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.currentPageContentArr[t.inEditingIndex].ORDER_DETAIL_EC_EMAIL,expression:"\n                currentPageContentArr[inEditingIndex].ORDER_DETAIL_EC_EMAIL\n              "}],staticClass:"form-control",class:a,attrs:{type:"email",id:t.requiredInputTitle.ECemail,placeholder:"例：Hello-World@email.com"},domProps:{value:t.currentPageContentArr[t.inEditingIndex].ORDER_DETAIL_EC_EMAIL},on:{input:function(e){e.target.composing||t.$set(t.currentPageContentArr[t.inEditingIndex],"ORDER_DETAIL_EC_EMAIL",e.target.value)}}}),t._v(" "),r("span",{staticClass:"invalid-feedback"},[t._v(t._s(n[0]))])]}}],null,!0)})],1)]),t._v(" "),r("div",{staticClass:"form-row"},[r("div",{staticClass:"form-group col-md-3"},[r("ValidationProvider",{attrs:{rules:{required:!0,regex:/^PJ\d{7}/,length:9}},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.errors,a=e.classes;return[r("label",{attrs:{for:t.requiredInputTitle.projectID}},[t._v(t._s(t.requiredInputTitle.projectID))]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.currentPageContentArr[t.inEditingIndex].PROJECT_ID,expression:"currentPageContentArr[inEditingIndex].PROJECT_ID"}],staticClass:"form-control",class:a,attrs:{type:"text",id:t.requiredInputTitle.projectID,placeholder:"例：PJ0000001"},domProps:{value:t.currentPageContentArr[t.inEditingIndex].PROJECT_ID},on:{input:function(e){e.target.composing||t.$set(t.currentPageContentArr[t.inEditingIndex],"PROJECT_ID",e.target.value)}}}),t._v(" "),r("span",{staticClass:"invalid-feedback"},[t._v(t._s(n[0]))])]}}],null,!0)})],1),t._v(" "),r("div",{staticClass:"form-group col-md-3"},[r("ValidationProvider",{attrs:{rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.errors,a=e.classes;return[r("label",{attrs:{for:t.requiredInputTitle.bookingDate}},[t._v(t._s(t.requiredInputTitle.bookingDate))]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.currentPageContentArr[t.inEditingIndex].BOOKING_DATE,expression:"currentPageContentArr[inEditingIndex].BOOKING_DATE"}],staticClass:"form-control",class:a,attrs:{type:"date",id:t.requiredInputTitle.bookingDate},domProps:{value:t.currentPageContentArr[t.inEditingIndex].BOOKING_DATE},on:{input:function(e){e.target.composing||t.$set(t.currentPageContentArr[t.inEditingIndex],"BOOKING_DATE",e.target.value)}}}),t._v(" "),r("span",{staticClass:"invalid-feedback"},[t._v(t._s(n[0]))])]}}],null,!0)})],1),t._v(" "),r("div",{staticClass:"form-group col-md-2"}),t._v(" "),r("div",{staticClass:"form-group col-md-1"},[r("label",{attrs:{for:""}},[t._v(" ")]),t._v(" "),r("input",{staticClass:"btn btn-primary",attrs:{type:"button",value:"修改完成",disabled:n},on:{click:t.updateOrderDetails}})]),t._v(" "),r("div",{staticClass:"form-group col-md-1 ml-4"},[r("label",{attrs:{for:""}},[t._v(" ")]),t._v(" "),r("input",{staticClass:"btn btn-danger",attrs:{type:"button",value:"不儲存關閉"},on:{click:function(e){return e.preventDefault(),t.$emit("update:inEditingIndex",-1)}}})])])])]}}],null,!1,3013250594)})],1):t._e()},staticRenderFns:[]},wt={data:function(){return{selectedOrderID:"",breadCrumbData:{pagesArr:["管理系統：訂單管理","管理系統：編輯項目"],currentPage:2},allOrderDetailsArr:[],itemsNumPerPage:10,currentPageContentArr:[],editWhichOrderDetail:"",inEditingIndex:-1}},created:function(){this.selectedOrderID=localStorage.getItem("selectedOrderID"),this.queryOrderDetails()},beforeDestroy:function(){localStorage.removeItem("selectedOrderID")},components:{Breadcrumb:S,Pagination:F,OrderDetailsForm:r("VU/8")(Mt,Nt,!1,null,null,null).exports},methods:{queryOrderDetails:function(){var t=this;this.$http.post("https://be-sp-0001-kapitan.herokuapp.com/API/Backstage/QueryOrderDetails.php",t.selectedOrderID).then(function(e){t.allOrderDetailsArr=e.data}).catch(function(t){console.log(t)})},getCurrentPageContentArr:function(t){this.currentPageContentArr=t},editOrderDetail:function(){}}},Tt={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("section",{staticClass:"position-relative",attrs:{id:"order-details-page"}},[r("Breadcrumb",{attrs:{breadCrumbData:t.breadCrumbData}}),t._v(" "),r("h6",{staticClass:"my-4 mr-5 d-inline-block"},[t._v("\n    所選訂單編號："+t._s(t.selectedOrderID)+"\n  ")]),t._v(" "),r("h6",{staticClass:"ml-5 d-inline-block"},[t._v("所選定單日期："+t._s(t.selectedOrderID))]),t._v(" "),r("table",{staticClass:"table table-striped queryResultsTable"},[t._m(0),t._v(" "),r("tbody",[t._l(t.currentPageContentArr,function(e,n){return r("tr",{directives:[{name:"show",rawName:"v-show",value:t.inEditingIndex==n||-1==t.inEditingIndex,expression:"inEditingIndex == index || inEditingIndex == -1"}],key:n,staticClass:"order-item",on:{click:function(e){e.preventDefault(),t.inEditingIndex=n,t.currentPageContentArr=t.currentPageContentArr}}},[r("th",{staticClass:"text-center",attrs:{scope:"row"}},[t._v(t._s(n+1))]),t._v(" "),r("td",[t._v(t._s(t.currentPageContentArr[n].ORDER_DETAIL_ID))]),t._v(" "),r("td",{staticClass:"text-center"},[t._v("\n          "+t._s(t.currentPageContentArr[n].PROJECT_NAME)+"\n        ")]),t._v(" "),r("td",{staticClass:"text-center"},[t._v("\n          "+t._s(t.currentPageContentArr[n].ORDER_DETAIL_MC_NAME)+"\n        ")]),t._v(" "),r("td",{staticClass:"text-center"},[t._v("\n          "+t._s(t.currentPageContentArr[n].ORDER_DETAIL_MC_PHONE)+"\n        ")]),t._v(" "),r("td",{staticClass:"text-center"},[t._v("\n          "+t._s(t.currentPageContentArr[n].ORDER_DETAIL_EC_NAME)+"\n        ")]),t._v(" "),r("td",{staticClass:"text-center"},[t._v("\n          "+t._s(t.currentPageContentArr[n].ORDER_DETAIL_EC_PHONE)+"\n        ")])])}),t._v(" "),r("tr",[r("td",{staticClass:"order-details-editor",attrs:{colspan:"7"}},[r("OrderDetailsForm",{directives:[{name:"show",rawName:"v-show",value:-1!=t.inEditingIndex,expression:"inEditingIndex != -1"}],attrs:{currentPageContentArr:t.currentPageContentArr,inEditingIndex:t.inEditingIndex},on:{"update:currentPageContentArr":function(e){t.currentPageContentArr=e},"update:current-page-content-arr":function(e){t.currentPageContentArr=e},"update:inEditingIndex":function(e){t.inEditingIndex=e},"update:in-editing-index":function(e){t.inEditingIndex=e}}})],1)])],2)]),t._v(" "),r("div",{staticClass:"position-absolute",attrs:{id:"paginationContainer"}},[r("Pagination",{directives:[{name:"show",rawName:"v-show",value:t.currentPageContentArr.length>0,expression:"currentPageContentArr.length > 0"}],attrs:{allContentArr:t.allOrderDetailsArr,itemsNumPerPage:t.itemsNumPerPage},on:{emitCurrentPageContentArr:t.getCurrentPageContentArr}})],1)],1)},staticRenderFns:[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("thead",[r("tr",[r("th",{staticClass:"text-center",attrs:{scope:"col"}},[t._v("序號")]),t._v(" "),r("th",{staticClass:"text-center",attrs:{scope:"col"}},[t._v("項目編號")]),t._v(" "),r("th",{staticClass:"text-center",attrs:{scope:"col"}},[t._v("方案名稱")]),t._v(" "),r("th",{staticClass:"text-center",attrs:{scope:"col"}},[t._v("主要聯絡人姓名")]),t._v(" "),r("th",{staticClass:"text-center",attrs:{scope:"col"}},[t._v("主要聯絡人手機")]),t._v(" "),r("th",{staticClass:"text-center",attrs:{scope:"col"}},[t._v("緊急聯絡人姓名")]),t._v(" "),r("th",{staticClass:"text-center",attrs:{scope:"col"}},[t._v("緊急聯絡人手機")])])])}]};var Rt=r("VU/8")(wt,Tt,!1,function(t){r("7UM7")},"data-v-3f04ef94",null).exports,Lt={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("h1",[this._v("ProjectsManager")])])}]},St=r("VU/8")(null,Lt,!1,null,null,null).exports,$t={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("h1",[this._v("MembersManager")])])}]},qt=r("VU/8")(null,$t,!1,null,null,null).exports;f.a.use(I.a);var Ft=new I.a({routes:[{path:"*",redirect:"/"},{path:"/",component:O,children:[{path:"",name:"首頁",component:M},{path:"/About",name:"關於甲必丹",component:w},{path:"/Store",name:"挑選航程",component:U},{path:"/Store/Projects/:selectedProjectID",name:"方案",component:nt},{path:"/Cart",name:"購物車",component:st,children:[{path:"/Cart/Checkout",name:"結帳",component:_t}]},{path:"/Member-Centre",name:"會員中心",component:ht}]},{path:"/Admin",component:Pt,children:[{path:"/Admin/SignIn",name:"管理系統：登入頁",component:kt},{path:"/Admin",name:"管理系統：首頁",component:yt,meta:{requiresAuth:!0},children:[{path:"/Admin/Orders-Manager",name:"管理系統：訂單管理",component:jt,meta:{requiresAuth:!0}},{path:"/Admin/Orders-Manager/Order-Details",name:"管理系統：訂單細節清單",component:Rt,meta:{requiresAuth:!0}},{path:"/Admin/Projects-Manager",name:"管理系統：方案管理",component:St,meta:{requiresAuth:!0}},{path:"/Admin/Members-Manager",name:"管理系統：會員管理",component:qt,meta:{requiresAuth:!0}}]}]}]});Ft.beforeEach(function(t,e,r){var n,a,i,o,c,l=Object({NODE_ENV:"production",REMOTE_HOST_PATH:"https://be-sp-0001-kapitan.herokuapp.com"}).LOCAL_HOST_PATH+"/API/Backstage/AdminSignInAuthentication.php",u=(n=document.cookie,a=n.split("").indexOf("="),i=n.length,c=i-(o=a+2)-1,n.substr(o,c));t.meta.requiresAuth?s.a.post(l,u).then(function(t){t.data.sessionCheck?r():r({name:"管理系統：登入頁"})}).catch(function(t){console.log(t)}):("/Admin/SignIn"==t.path&&s.a.post(l,u).then(function(t){t.data.sessionCheck&&(alert("你已登入。系統將引導您回首頁。"),setTimeout(function(){Ft.push({name:"管理系統：首頁"})},500))}).catch(function(t){console.log(t)}),r())});var Vt=Ft;f.a.prototype.$eventBus=new f.a;window.$=u.a,f.a.config.productionTip=!1,f.a.use(c.a,s.a,u.a,m.a,p.a,v,{data:function(){return{}}}),a()(h).forEach(function(t){Object(C.d)(t,h[t])}),Object(C.e)("zh_TW",g.a),f.a.component("ValidationObserver",C.a),f.a.component("ValidationProvider",C.b),Object(C.c)({events:"input|blur|change",classes:{valid:"is-valid",invalid:"is-invalid"}}),f.a.filter("currency",function(t){return t.toFixed(0).replace(/./g,function(t,e,r){return e&&"."!==t&&(r.length-e)%3==0?","+t:t})}),f.a.filter("dollarSign",function(t){return"$ "+t}),new f.a({el:"#app",router:Vt,components:{App:P},template:"<App/>"})},Pjxy:function(t,e){},SjS3:function(t,e){t.exports={code:"zh_TW",messages:{alpha:"{_field_} 須以英文組成",alpha_dash:"{_field_} 須以英數、斜線及底線組成",alpha_num:"{_field_} 須以英數組成",alpha_spaces:"{_field_} 須以英文及空格組成",between:"{_field_} 須介於 {min} 至 {max}之間",confirmed:" {_field_} 不一致",digits:"{_field_} 須為 {length} 位數字",dimensions:"{_field_} 圖片尺寸不正確。須為 {width} x {height} 像素",email:"{_field_} 須為有效的電子信箱",excluded:"{_field_} 的選項無效",ext:"{_field_} 須為有效的檔案",image:"{_field_} 須為圖片",oneOf:"{_field_} 的選項無效",integer:"{_field_} 須為整數",length:"{_field_} 的長度須為 {length}",max:"{_field_} 不能大於 {length} 個字元",max_value:"{_field_} 不得大於 {max}",mimes:"{_field_} 須為有效的檔案類型",min:"{_field_} 不能小於 {length} 個字元",min_value:"{_field_} 不得小於 {min}",numeric:"{_field_} 須為數字",regex:"{_field_} 的格式錯誤",required:"{_field_} 為必填",required_if:"{_field_} 為必填",size:"{_field_} 的檔案須小於 {size}KB",double:"{_field_}字段必須為有效的小數"}}},Tark:function(t,e){},ao2D:function(t,e){},c02q:function(t,e){},dezu:function(t,e){},fUyc:function(t,e){},ixDS:function(t,e,r){t.exports=r.p+"static/img/Kapitan-Logo-Horizontal-Version-01.a68f274.png"},lU8A:function(t,e){},lhgd:function(t,e){},onky:function(t,e){},rY7q:function(t,e){},sop2:function(t,e){},sv4i:function(t,e){},wnDj:function(t,e){},xwoG:function(t,e){},zXK2:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.a65cf311409fad135270.js.map